anonymousReplication: deny
databaseName: c8oforms_response_fs
↓GetDocument [transactions.couchdb.GetDocumentTransaction]: 
  ↓Test_Case [core.TestCase]: 
    ↓_use_docid [variables.TestCaseVariable-1570090884447]: 
      description: Document ID
      value: grimont.c@gmail.com_1567067321897_1570024341583
  ↓_use_docid [variables.RequestableVariable-1570090818803]: 
    description: Document ID
↓GetResponseByFormId [transactions.couchdb.GetViewTransaction]: 
  viewname: Design_document/responsesByFormId
  ↓Test_Case [core.TestCase]: 
    ↓_use_key [variables.TestCaseVariable-1570111333161]: 
      description: (string) – Return only documents that match the specified key. Optional
      value: '"1567067321897"'
  ↓_use_key [variables.RequestableVariable-1570111315311]: 
    description: (string) – Return only documents that match the specified key. Optional
↓GetServerInfo [transactions.couchdb.GetServerInfoTransaction]: 
  ↑default: true
↓GetView [transactions.couchdb.GetViewTransaction]: 
  viewname: Design_document/view
  ↓_use_key [variables.RequestableVariable-1572470474538]: 
    description: (string) – Return only documents that match the specified key. Optional
↓PurgeDatabase [transactions.couchdb.PurgeDatabaseTransaction]: 
  purgeAll: true
↓Design_document [couchdb.DesignDocument]: 
  docdata: 
    →: |
      '{
        "_id": "_design\/Design_document",
        "filters": {},
        "updates": {},
        "views": {
          "getResponses": {
            "map": "function (doc) {\r\n
          try {\r\n
              if(doc.timestamp != null){\r\n
                  emit(doc.formId, doc);\r\n
              }    \r\n
          } catch (err) {\r\n
              log(err.message);\r\n
          }\r\n
      }",
            "reduce": "function (keys, values, rereduce) {\r\n
          try {\r\n
               return values;\r\n
          } catch (err) {\r\n
              log(err.message);\r\n
          }\r\n
      }"
          },
          "responsesById": {
            "map": "function (doc) {\r\n
          try {\r\n
              if(doc.timestamp != null){\r\n
                  emit(doc._id);\r\n
              }    \r\n
          } catch (err) {\r\n
              log(err.message);\r\n
          }\r\n
      }",
            "reduce": "function (keys, values, rereduce) {\r\n
          try {\r\n
               return values;\r\n
          } catch (err) {\r\n
              log(err.message);\r\n
          }\r\n
      }"
          },
          "responsesByFormId": {"map": "function (doc) {\r\n
          try {\r\n
              emit(doc.formId, {doc: doc});\r\n
          } catch (err) {\r\n
              log(err.message);\r\n
          }\r\n
      }"},
          "view": {"map": "function (doc) {\r\n
          try {\r\n
              \/\/function flatenize\r\n
              var flatenize = function (doc, prefix, resp){\r\n
                    for (var property in doc) {\r\n
                      if(doc[property].type != undefined){\r\n
                        if(doc[property].type == \"ion-card\"){\r\n
                          flatenize(doc[property][\"children\"], doc[property][\"name\"]+\"_\", resp);\r\n
                        }\r\n
                        else if(doc[property].type == \"radio_group\"){\r\n
                            for(var ninos in doc[property].children){\r\n
                              resp.push({\"key\":property+\"_\" + ninos, \"value\": doc[property].children[ninos]})\r\n
                            }\r\n
                        }\r\n
                        else{\r\n
                          if(doc[property].type == \"checkbox\"){\r\n
                              var val =\"\";                        \r\n
                              for (var child in doc[property].children) {\r\n
                                  if(doc[property].children[child].selected){\r\n
                                      if(val == \"\"){\r\n
                                          val = doc[property].children[child].value + \"\";\r\n
                                      }\r\n
                                      else{\r\n
                                          val = val + \",\" + doc[property].children[child].value;\r\n
                                      }\r\n
                                    \r\n
                                }\r\n
                            }\r\n
                            resp.push({\"key\":prefix + doc[property][\"name\"], \"value\": val});\r\n
                          }\r\n
                          else if(doc[property].type == \"checkbox_group\"){\r\n
                            \/\/ foreach Line\r\n
                            for(var ninos in doc[property].children){\r\n
                              var val = \"\";\r\n
                              \/\/ foreach Column\r\n
                              for (var child in doc[property].children[ninos]) {\r\n
                                  if(doc[property].children[ninos][child].selected === true){\r\n
                                    if(val === \"\"){\r\n
                                      val = doc[property].children[ninos][child].value;\r\n
                                    }\r\n
                                    else{\r\n
                                      val = val + \",\" + doc[property].children[ninos][child].value;\r\n
                                    } \r\n
                                  }\r\n
                              }\r\n
                              resp.push({\"key\":prefix + property+\"_\" + ninos, \"value\": val});\r\n
                            }\r\n
                          }\r\n
                          else{\r\n
                           resp.push({\"key\":prefix + doc[property][\"name\"], \"value\": doc[property][\"value\"]}) \r\n
                          }\r\n
                        }\r\n
                      }\r\n
                    }\r\n
              };\r\n
              \/\/function getDate\r\n
              var getDate = function (timeStamp) {\r\n
                  var date = new Date(+timeStamp),\r\n
                  year = date.getFullYear(),\r\n
                  month = (date.getMonth() + 1).toString(),\r\n
                  formatedMonth = (month.length === 1) ? (\"0\" + month) : month,\r\n
                  day = date.getDate().toString(),\r\n
                  formatedDay = (day.length === 1) ? (\"0\" + day) : day,\r\n
                  hour = date.getHours().toString(),\r\n
                  formatedHour = (hour.length === 1) ? (\"0\" + hour) : hour,\r\n
                  minute = date.getMinutes().toString(),\r\n
                  formatedMinute = (minute.length === 1) ? (\"0\" + minute) : minute,\r\n
                  second = date.getSeconds().toString(),\r\n
                  formatedSecond = (second.length === 1) ? (\"0\" + second) : second;\r\n
                  return formatedDay + \"-\" + formatedMonth + \"-\" + year + \" \" + formatedHour + '':'' + formatedMinute + '':'' + formatedSecond;\r\n
              };\r\n
              var date = getDate(doc.timestamp);\r\n
                var resp = [{\"key\":\"horodateur\", \"value\":date}];\r\n
                flatenize(doc.resp, \"\", resp);\r\n
                  emit(doc.formId, {doc: resp});\r\n
              } catch (err) {\r\n
                  log(err.message);\r\n
              }\r\n
      }"},
          "getResponseByVersion": {
            "map": "function (doc) {\r\n
              try {\r\n
                  if(doc.version != null){\r\n
                      emit(doc.formId + \"__\" + doc.version, doc);\r\n
                  }    \r\n
              } catch (err) {\r\n
                  log(err.message);\r\n
              }\r\n
          \r\n
      }",
            "reduce": "function (keys, values, rereduce) {\r\n
          try {\r\n
               return values;\r\n
          } catch (err) {\r\n
              log(err.message);\r\n
          }\r\n
      }"
          }
        }
      }'
↓FullSync_Update_Listener_Filter [couchdb.FullSyncFilterListener]: 
  isEnabled: false
  targetSequence: C8Oforms.notify_response
↓FullSync_Update_Listener_View [couchdb.FullSyncListener]: 
  isEnabled: false
  targetSequence: C8Oforms.notify_response
  targetView: C8Oforms.c8oforms_response_fs.Design_document.responsesById
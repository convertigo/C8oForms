isEnabled: false
scriptContent: 
  - xmlizable: 
    - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
    - com.twinsoft.convertigo.beans.common.FormatedContent: 
      →: |
        '/*Begin_c8o_PageImport*/
        /*End_c8o_PageImport*/
        /*Begin_c8o_PageDeclaration*/
        	/*End_c8o_PageDeclaration*/
        /*Begin_c8o_PageConstructor*/
        		/*End_c8o_PageConstructor*/
        /*Begin_c8o_PageFunction*/
        	public processResults(){
        	    let length = this.local.index.length;
                let currentIndex = this.local.currentIndex;
                this.local.flatObj = [];
        		this.local.flatObj2 = [];
                this.local.show = [];
                this.local.currentResponses = this.local.versions[this.local.index[this.local.currentIndex]];
                let i  = 0;
                this.local.table = [];
        		const iterrateOverActionsValue = (firstElem: any, k: number)=>{
        			if(firstElem.actionsValue != undefined){
        				for(let elem in firstElem.actionsValue){
        					if(this.local.flatObj2[k] == undefined){
        						this.local.flatObj2[k] = {"label":elem,"labelHtml": elem, "type":"actions","valueType": firstElem.actionsValue[elem].valueType,value: [], "name": elem};
        						this.local.show[elem] = false;
        					}
        					let e = {value:""}
        					if(firstElem.actionsValue[elem].valueType == "attachment"){
        						let url = this.c8o.endpointConvertigo+"/fullsync/c8oforms_response_fs/" + encodeURIComponent(firstElem["_id"]) + "/" + encodeURIComponent(firstElem.actionsValue[elem].value);
        						e.value = ''<ul> <li><a download="''+elem+''" href="''+url+''" target="_blank">''+firstElem.actionsValue[elem].value+''</a> </li>'';	
        					}
        					else{
        						e.value = firstElem.actionsValue[elem].value;
        					}
        					this.local.flatObj2[k].value.push(e);
        					k++;
        				}	
        			}	
        		}
                const iterrateOverChildrens = (firstElem: any, j: number, pathToSearch: string, _id: string) => {
                    for(let elem in firstElem[pathToSearch]){
                        if(firstElem[pathToSearch][elem].type == "text" || firstElem[pathToSearch][elem].type == "grid" || firstElem[pathToSearch][elem].type == "location" || firstElem[pathToSearch][elem].type == "datetime" || firstElem[pathToSearch][elem].type == "time" || firstElem[pathToSearch][elem].type == "barcode" || firstElem[pathToSearch][elem].type == "signature" || firstElem[pathToSearch][elem].type == "img" || firstElem[pathToSearch][elem].type == "file"){
                            if(i == 0){
        						let att_type = false;
        						try{
        							att_type = firstElem[pathToSearch][elem].att_type == true;
        						}
        						catch(e){
        							
        						}
                                this.local.flatObj[j] = {"id" : "", att_type: false, "label":firstElem[pathToSearch][elem].label,"labelHtml": firstElem[pathToSearch][elem].labelHtml, "type":firstElem[pathToSearch][elem].type, value: [], "name": firstElem[pathToSearch][elem]["name"]};
                                this.local.show[firstElem[pathToSearch][elem]["name"]] = false;
                                
                            }
        					if(firstElem[pathToSearch][elem].type == "signature" || firstElem[pathToSearch][elem].type == "img"){
        						let att_type = false;
        						try{
        							att_type = firstElem[pathToSearch][elem].att_type == true;
        						}
        						catch(e){
        							
        						}
        						let e  = JSON.parse(JSON.stringify(firstElem[pathToSearch][elem]));
        						
        						e.id = _id;
        						e.att_type = att_type;
        						
        						this.local.flatObj[j]["value"]["push"](e);
        					}
        					else if(firstElem[pathToSearch][elem].type == "location"){
        						if(Object.keys(firstElem[pathToSearch][elem].value.gps).length > 0){
        							let e  = JSON.parse(JSON.stringify(firstElem[pathToSearch][elem]));
        							if(firstElem[pathToSearch][elem]["value"]["bounding_box"] != undefined){
        								e.value = JSON.stringify(firstElem[pathToSearch][elem]["value"]["bounding_box"]);
        							}
        							else if(firstElem[pathToSearch][elem]["value"]["addr"] != undefined && firstElem[pathToSearch][elem]["value"]["addr"]["FormattedAddress"] != undefined && firstElem[pathToSearch][elem]["value"]["addr"]["FormattedAddress"] != ""){
        								e.value = firstElem[pathToSearch][elem]["value"]["addr"]["FormattedAddress"];
        							}
        							else{
        								e.value = "latitude: " + firstElem[pathToSearch][elem]["value"]["gps"]["latitude"] + ", longitude: "+ firstElem[pathToSearch][elem]["value"]["gps"]["longitude"];
        							}
        							this.local.flatObj[j]["value"]["push"](e);
        						}
        					}
        					else if(firstElem[pathToSearch][elem].type == "grid" && firstElem[pathToSearch][elem].value != "" && JSON.stringify(firstElem[pathToSearch][elem].value) != "{}"){
        						let e = JSON.parse(JSON.stringify(firstElem[pathToSearch][elem]));
        						if(!(e.value instanceof String)){
        							e.value = JSON.stringify(firstElem[pathToSearch][elem]["value"]);
        						}
        						this.local.flatObj[j]["value"]["push"](e);
        					}	
                            else if(firstElem[pathToSearch][elem].value != "" && firstElem[pathToSearch][elem].type != "location" && firstElem[pathToSearch][elem].type != "grid"){
                                if(firstElem[pathToSearch][elem].type == "file"){
                                    let e = JSON.parse(JSON.stringify(firstElem[pathToSearch][elem]));
                                    let first = true;
                                    if(firstElem[pathToSearch][elem]["value"] instanceof Array){
                                        for(let thing of firstElem[pathToSearch][elem]["value"]){​​​​​​​​​​​​​​​​​​​​​​​​​​​
                                            let url = this.c8o.endpointConvertigo+"/fullsync/c8oforms_response_fs/" + encodeURIComponent(_id) + "/" + encodeURIComponent(thing);
                                            let file_name = thing.split("_C80C80_")[1];
                                           
                                            if(first){                                                
                                                e["value"] =  ''<ul> <li><a download="''+file_name+''" href="''+url+''" target="_blank">''+file_name+''</a> </li>'';
                                                first = false;
                                            }
                                            else{
                                                e["value"] = e["value"]  + ''<li><a download="''+file_name+''" href="''+url+''" target="_blank">''+file_name+''</a></li>'';
                                            }
                                            
                                        }
                                        if(e["value"] != undefined && e["value"] != ""){
                                            e["value"] = e["value"]  + "</ul>"
                                        }
                                    }
                                    this.local.flatObj[j]["value"]["push"](e);
                                }
                                else{
                                    this.local.flatObj[j]["value"]["push"](firstElem[pathToSearch][elem]);
                                }
        						
                            }    
                            }
                        else if(firstElem[pathToSearch][elem].type == "checkbox" || firstElem[pathToSearch][elem].type == "radio" || firstElem[pathToSearch][elem].type == "select"){
                            if(i == 0){
                                this.local.flatObj[j] = {"label":firstElem[pathToSearch][elem].label, "labelHtml": firstElem[pathToSearch][elem].labelHtml, "type":firstElem[pathToSearch][elem].type, value: [], sets:[], "name": firstElem[pathToSearch][elem]["name"]};   
                            }
                            for(let k in firstElem[pathToSearch][elem]["children"]){
                                if(i == 0){
                                    if(this.local.flatObj[j]["value"][k] == undefined){
                                        this.local.flatObj[j]["value"][k] = 0;    
                                    }
                                    if(firstElem[pathToSearch][elem]["children"][k].other == true){
                                        this.local.flatObj[j]["sets"][k] = this.translate.instant(''Other'')
                                    }
                                    else{
                                        this.local.flatObj[j]["sets"][k] = firstElem[pathToSearch][elem]["children"][k]["value"].length > 12 ? firstElem[pathToSearch][elem]["children"][k]["value"].substring(0, 12) + "..." : firstElem[pathToSearch][elem]["children"][k]["value"];
                                    }
                                     
                                }
                                if(firstElem[pathToSearch][elem]["children"][k]["selected"] == true){
                                    this.local.flatObj[j]["value"][k] ++
                                } 
                            }
                        }
                        else if(firstElem[pathToSearch][elem].type == "checkbox_group"){
                            if(i == 0){
                                this.local.flatObj[j] = {"label":firstElem[pathToSearch][elem].label, "labelHtml": firstElem[pathToSearch][elem].labelHtml, "type":firstElem[pathToSearch][elem].type, value: [], sets:[], "name": firstElem[pathToSearch][elem]["name"], color:[]};   
                            }
                            let m = 0;
                            for(let k in firstElem[pathToSearch][elem]["children"]){
                                //k == Line1 ... etc
                                if(this.local.flatObj[j]["sets"][m] == undefined){
                                    this.local.flatObj[j]["color"] = [{backgroundColor: [''rgba(255, 99, 132, 1)'', ''rgba(255, 99, 132, 1)'', ''rgba(255, 99, 132, 1)'', ''rgba(255, 99, 132, 1)'',''rgba(255, 99, 132, 1)'', ''rgba(255, 99, 132, 1)'', ''rgba(255, 99, 132, 1)'', ''rgba(255, 99, 132, 1)'',''rgba(255, 99, 132, 1)'', ''rgba(255, 99, 132, 1)'', ''rgba(255, 99, 132, 1)'', ''rgba(255, 99, 132, 1)'']},{backgroundColor: [''rgba(54, 162, 235, 1)'', ''rgba(54, 162, 235, 1)'', ''rgba(54, 162, 235, 1)'', ''rgba(54, 162, 235, 1)'', ''rgba(54, 162, 235, 1)'', ''rgba(54, 162, 235, 1)'', ''rgba(54, 162, 235, 1)'', ''rgba(54, 162, 235, 1)'',''rgba(54, 162, 235, 1)'', ''rgba(54, 162, 235, 1)'', ''rgba(54, 162, 235, 1)'', ''rgba(54, 162, 235, 1)'', ''rgba(54, 162, 235, 1)'', ''rgba(54, 162, 235, 1)'', ''rgba(54, 162, 235, 1)'', ''rgba(54, 162, 235, 1)'',''rgba(54, 162, 235, 1)'', ''rgba(54, 162, 235, 1)'', ''rgba(54, 162, 235, 1)'', ''rgba(54, 162, 235, 1)'', ''rgba(54, 162, 235, 1)'', ''rgba(54, 162, 235, 1)'', ''rgba(54, 162, 235, 1)'', ''rgba(54, 162, 235, 1)'']},{backgroundColor: [''rgba(255, 206, 86, 1)'',''rgba(255, 206, 86, 1)'',''rgba(255, 206, 86, 1)'',''rgba(255, 206, 86, 1)'',''rgba(255, 206, 86, 1)'',''rgba(255, 206, 86, 1)'',''rgba(255, 206, 86, 1)'',''rgba(255, 206, 86, 1)'',''rgba(255, 206, 86, 1)'',''rgba(255, 206, 86, 1)'',''rgba(255, 206, 86, 1)'',''rgba(255, 206, 86, 1)'',''rgba(255, 206, 86, 1)'',''rgba(255, 206, 86, 1)'',''rgba(255, 206, 86, 1)'',''rgba(255, 206, 86, 1)'',''rgba(255, 206, 86, 1)'',''rgba(255, 206, 86, 1)'',''rgba(255, 206, 86, 1)'',''rgba(255, 206, 86, 1)'',''rgba(255, 206, 86, 1)'',''rgba(255, 206, 86, 1)'',''rgba(255, 206, 86, 1)'',''rgba(255, 206, 86, 1)'',''rgba(255, 206, 86, 1)'',''rgba(255, 206, 86, 1)'',''rgba(255, 206, 86, 1)'',''rgba(255, 206, 86, 1)'',''rgba(255, 206, 86, 1)'',''rgba(255, 206, 86, 1)'',''rgba(255, 206, 86, 1)'',''rgba(255, 206, 86, 1)'',''rgba(255, 206, 86, 1)'',''rgba(255, 206, 86, 1)'',''rgba(255, 206, 86, 1)'',''rgba(255, 206, 86, 1)'']},{backgroundColor: [''rgba(75, 192, 192, 1)'',''rgba(75, 192, 192, 1)'',''rgba(75, 192, 192, 1)'',''rgba(75, 192, 192, 1)'',''rgba(75, 192, 192, 1)'',''rgba(75, 192, 192, 1)'',''rgba(75, 192, 192, 1)'',''rgba(75, 192, 192, 1)'',''rgba(75, 192, 192, 1)'',''rgba(75, 192, 192, 1)'',''rgba(75, 192, 192, 1)'',''rgba(75, 192, 192, 1)'',''rgba(75, 192, 192, 1)'',''rgba(75, 192, 192, 1)'',''rgba(75, 192, 192, 1)'',''rgba(75, 192, 192, 1)'',''rgba(75, 192, 192, 1)'',''rgba(75, 192, 192, 1)'',''rgba(75, 192, 192, 1)'',''rgba(75, 192, 192, 1)'',''rgba(75, 192, 192, 1)'',''rgba(75, 192, 192, 1)'',''rgba(75, 192, 192, 1)'',''rgba(75, 192, 192, 1)'',''rgba(75, 192, 192, 1)'',''rgba(75, 192, 192, 1)'',''rgba(75, 192, 192, 1)'',''rgba(75, 192, 192, 1)'',''rgba(75, 192, 192, 1)'',''rgba(75, 192, 192, 1)'',''rgba(75, 192, 192, 1)'',''rgba(75, 192, 192, 1)'',''rgba(75, 192, 192, 1)'',''rgba(75, 192, 192, 1)'',''rgba(75, 192, 192, 1)'',''rgba(75, 192, 192, 1)'',''rgba(75, 192, 192, 1)'',''rgba(75, 192, 192, 1)'',''rgba(75, 192, 192, 1)'',''rgba(75, 192, 192, 1)'',''rgba(75, 192, 192, 1)'',''rgba(75, 192, 192, 1)'',''rgba(75, 192, 192, 1)'',''rgba(75, 192, 192, 1)'',''rgba(75, 192, 192, 1)'',''rgba(75, 192, 192, 1)'',''rgba(75, 192, 192, 1)'',''rgba(75, 192, 192, 1)'',''rgba(75, 192, 192, 1)'',''rgba(75, 192, 192, 1)'',''rgba(75, 192, 192, 1)'',''rgba(75, 192, 192, 1)'',''rgba(75, 192, 192, 1)'',''rgba(75, 192, 192, 1)'',''rgba(75, 192, 192, 1)'']},{backgroundColor: [''rgba(153, 102, 255, 1)'',''rgba(153, 102, 255, 1)'',''rgba(153, 102, 255, 1)'',''rgba(153, 102, 255, 1)'',''rgba(153, 102, 255, 1)'',''rgba(153, 102, 255, 1)'',''rgba(153, 102, 255, 1)'',''rgba(153, 102, 255, 1)'',''rgba(153, 102, 255, 1)'',''rgba(153, 102, 255, 1)'',''rgba(153, 102, 255, 1)'',''rgba(153, 102, 255, 1)'',''rgba(153, 102, 255, 1)'',''rgba(153, 102, 255, 1)'',''rgba(153, 102, 255, 1)'',''rgba(153, 102, 255, 1)'',''rgba(153, 102, 255, 1)'',''rgba(153, 102, 255, 1)'',''rgba(153, 102, 255, 1)'',''rgba(153, 102, 255, 1)'',''rgba(153, 102, 255, 1)'',''rgba(153, 102, 255, 1)'',''rgba(153, 102, 255, 1)'',''rgba(153, 102, 255, 1)'',''rgba(153, 102, 255, 1)'',''rgba(153, 102, 255, 1)'',''rgba(153, 102, 255, 1)'',''rgba(153, 102, 255, 1)'',''rgba(153, 102, 255, 1)'',''rgba(153, 102, 255, 1)'',''rgba(153, 102, 255, 1)'',''rgba(153, 102, 255, 1)'',''rgba(153, 102, 255, 1)'',''rgba(153, 102, 255, 1)'',''rgba(153, 102, 255, 1)'',''rgba(153, 102, 255, 1)'',''rgba(153, 102, 255, 1)'',''rgba(153, 102, 255, 1)'',''rgba(153, 102, 255, 1)'',''rgba(153, 102, 255, 1)'',''rgba(153, 102, 255, 1)'',''rgba(153, 102, 255, 1)'',''rgba(153, 102, 255, 1)'',''rgba(153, 102, 255, 1)'',''rgba(153, 102, 255, 1)'',''rgba(153, 102, 255, 1)'',''rgba(153, 102, 255, 1)'',''rgba(153, 102, 255, 1)'',''rgba(153, 102, 255, 1)'',''rgba(153, 102, 255, 1)'',''rgba(153, 102, 255, 1)'',''rgba(153, 102, 255, 1)'']},{backgroundColor: [''rgba(255, 159, 64, 1)'',''rgba(255, 159, 64, 1)'',''rgba(255, 159, 64, 1)'',''rgba(255, 159, 64, 1)'',''rgba(255, 159, 64, 1)'',''rgba(255, 159, 64, 1)'',''rgba(255, 159, 64, 1)'',''rgba(255, 159, 64, 1)'',''rgba(255, 159, 64, 1)'',''rgba(255, 159, 64, 1)'',''rgba(255, 159, 64, 1)'',''rgba(255, 159, 64, 1)'',''rgba(255, 159, 64, 1)'',''rgba(255, 159, 64, 1)'',''rgba(255, 159, 64, 1)'',''rgba(255, 159, 64, 1)'',''rgba(255, 159, 64, 1)'',''rgba(255, 159, 64, 1)'',''rgba(255, 159, 64, 1)'',''rgba(255, 159, 64, 1)'',''rgba(255, 159, 64, 1)'',''rgba(255, 159, 64, 1)'',''rgba(255, 159, 64, 1)'',''rgba(255, 159, 64, 1)'',''rgba(255, 159, 64, 1)'',''rgba(255, 159, 64, 1)'',''rgba(255, 159, 64, 1)'',''rgba(255, 159, 64, 1)'',''rgba(255, 159, 64, 1)'',''rgba(255, 159, 64, 1)'',''rgba(255, 159, 64, 1)'',''rgba(255, 159, 64, 1)'',''rgba(255, 159, 64, 1)'',''rgba(255, 159, 64, 1)'',''rgba(255, 159, 64, 1)'',''rgba(255, 159, 64, 1)'',''rgba(255, 159, 64, 1)'',''rgba(255, 159, 64, 1)'',''rgba(255, 159, 64, 1)'',''rgba(255, 159, 64, 1)'',''rgba(255, 159, 64, 1)'',''rgba(255, 159, 64, 1)'',''rgba(255, 159, 64, 1)'',''rgba(255, 159, 64, 1)'']},{backgroundColor: [''rgba(255,99,132,1)'']},{backgroundColor: [''rgba(54, 162, 235, 1)'']},{backgroundColor: [''rgba(255, 206, 86, 1)'']},{backgroundColor: [''rgba(75, 192, 192, 1)'']},{backgroundColor: [''rgba(153, 102, 255, 1)'']},{backgroundColor: [''rgba(255, 159, 64, 1)'']}];
                                }
                                this.local.flatObj[j]["sets"][m] = k.length > 12 ? k.substring (0, 12) + "..." : k;
                                for(let l in firstElem[pathToSearch][elem]["children"][k]){
                                    if(this.local.flatObj[j]["value"][+l] == undefined){
                                        this.local.flatObj[j]["value"][+l] = [];
                                    }
                                    if(this.local.flatObj[j]["value"][+l]["label"] == undefined){
                                        this.local.flatObj[j]["value"][+l]["label"] = firstElem[pathToSearch][elem]["children"][k][l]["value"].length > 12 ? firstElem[pathToSearch][elem]["children"][k][l]["value"].substring(0,12) + "..." : firstElem[pathToSearch][elem]["children"][k][l]["value"];
                                    }
                                    if(this.local.flatObj[j]["value"][+l]["data"] == undefined){
                                        this.local.flatObj[j]["value"][+l]["data"] = []; 
                                    }
                                    if(this.local.flatObj[j]["value"][+l]["data"][m] == undefined){
                                        this.local.flatObj[j]["value"][+l]["data"][m] = 0;
                                    }
                                    if(firstElem[pathToSearch][elem]["children"][k][l]["selected"] == true){
                                        this.local.flatObj[j]["value"][+l]["data"][m] ++;    
                                    }
                                }
                                m++;
                            }
                        }
                        else if(firstElem[pathToSearch][elem].type == "radio_group"){
                            if(i == 0){
                                this.local.flatObj[j] = {"label":firstElem[pathToSearch][elem].label, "labelHtml": firstElem[pathToSearch][elem].labelHtml, "type":firstElem[pathToSearch][elem].type, value: [], sets:[], "name": firstElem[pathToSearch][elem]["name"], color:[]};   
                            }
                            let m = 0;
                            for(let k in firstElem[pathToSearch][elem]["children"]){
                                //k == Line1 ... etc
                                if(this.local.flatObj[j]["sets"][m] == undefined){
                                    this.local.flatObj[j]["color"] = [{backgroundColor: [''rgba(255, 99, 132, 1)'', ''rgba(255, 99, 132, 1)'', ''rgba(255, 99, 132, 1)'', ''rgba(255, 99, 132, 1)'',''rgba(255, 99, 132, 1)'', ''rgba(255, 99, 132, 1)'', ''rgba(255, 99, 132, 1)'', ''rgba(255, 99, 132, 1)'',''rgba(255, 99, 132, 1)'', ''rgba(255, 99, 132, 1)'', ''rgba(255, 99, 132, 1)'', ''rgba(255, 99, 132, 1)'']},{backgroundColor: [''rgba(54, 162, 235, 1)'', ''rgba(54, 162, 235, 1)'', ''rgba(54, 162, 235, 1)'', ''rgba(54, 162, 235, 1)'', ''rgba(54, 162, 235, 1)'', ''rgba(54, 162, 235, 1)'', ''rgba(54, 162, 235, 1)'', ''rgba(54, 162, 235, 1)'',''rgba(54, 162, 235, 1)'', ''rgba(54, 162, 235, 1)'', ''rgba(54, 162, 235, 1)'', ''rgba(54, 162, 235, 1)'', ''rgba(54, 162, 235, 1)'', ''rgba(54, 162, 235, 1)'', ''rgba(54, 162, 235, 1)'', ''rgba(54, 162, 235, 1)'',''rgba(54, 162, 235, 1)'', ''rgba(54, 162, 235, 1)'', ''rgba(54, 162, 235, 1)'', ''rgba(54, 162, 235, 1)'', ''rgba(54, 162, 235, 1)'', ''rgba(54, 162, 235, 1)'', ''rgba(54, 162, 235, 1)'', ''rgba(54, 162, 235, 1)'']},{backgroundColor: [''rgba(255, 206, 86, 1)'',''rgba(255, 206, 86, 1)'',''rgba(255, 206, 86, 1)'',''rgba(255, 206, 86, 1)'',''rgba(255, 206, 86, 1)'',''rgba(255, 206, 86, 1)'',''rgba(255, 206, 86, 1)'',''rgba(255, 206, 86, 1)'',''rgba(255, 206, 86, 1)'',''rgba(255, 206, 86, 1)'',''rgba(255, 206, 86, 1)'',''rgba(255, 206, 86, 1)'',''rgba(255, 206, 86, 1)'',''rgba(255, 206, 86, 1)'',''rgba(255, 206, 86, 1)'',''rgba(255, 206, 86, 1)'',''rgba(255, 206, 86, 1)'',''rgba(255, 206, 86, 1)'',''rgba(255, 206, 86, 1)'',''rgba(255, 206, 86, 1)'',''rgba(255, 206, 86, 1)'',''rgba(255, 206, 86, 1)'',''rgba(255, 206, 86, 1)'',''rgba(255, 206, 86, 1)'',''rgba(255, 206, 86, 1)'',''rgba(255, 206, 86, 1)'',''rgba(255, 206, 86, 1)'',''rgba(255, 206, 86, 1)'',''rgba(255, 206, 86, 1)'',''rgba(255, 206, 86, 1)'',''rgba(255, 206, 86, 1)'',''rgba(255, 206, 86, 1)'',''rgba(255, 206, 86, 1)'',''rgba(255, 206, 86, 1)'',''rgba(255, 206, 86, 1)'',''rgba(255, 206, 86, 1)'']},{backgroundColor: [''rgba(75, 192, 192, 1)'',''rgba(75, 192, 192, 1)'',''rgba(75, 192, 192, 1)'',''rgba(75, 192, 192, 1)'',''rgba(75, 192, 192, 1)'',''rgba(75, 192, 192, 1)'',''rgba(75, 192, 192, 1)'',''rgba(75, 192, 192, 1)'',''rgba(75, 192, 192, 1)'',''rgba(75, 192, 192, 1)'',''rgba(75, 192, 192, 1)'',''rgba(75, 192, 192, 1)'',''rgba(75, 192, 192, 1)'',''rgba(75, 192, 192, 1)'',''rgba(75, 192, 192, 1)'',''rgba(75, 192, 192, 1)'',''rgba(75, 192, 192, 1)'',''rgba(75, 192, 192, 1)'',''rgba(75, 192, 192, 1)'',''rgba(75, 192, 192, 1)'',''rgba(75, 192, 192, 1)'',''rgba(75, 192, 192, 1)'',''rgba(75, 192, 192, 1)'',''rgba(75, 192, 192, 1)'',''rgba(75, 192, 192, 1)'',''rgba(75, 192, 192, 1)'',''rgba(75, 192, 192, 1)'',''rgba(75, 192, 192, 1)'',''rgba(75, 192, 192, 1)'',''rgba(75, 192, 192, 1)'',''rgba(75, 192, 192, 1)'',''rgba(75, 192, 192, 1)'',''rgba(75, 192, 192, 1)'',''rgba(75, 192, 192, 1)'',''rgba(75, 192, 192, 1)'',''rgba(75, 192, 192, 1)'',''rgba(75, 192, 192, 1)'',''rgba(75, 192, 192, 1)'',''rgba(75, 192, 192, 1)'',''rgba(75, 192, 192, 1)'',''rgba(75, 192, 192, 1)'',''rgba(75, 192, 192, 1)'',''rgba(75, 192, 192, 1)'',''rgba(75, 192, 192, 1)'',''rgba(75, 192, 192, 1)'',''rgba(75, 192, 192, 1)'',''rgba(75, 192, 192, 1)'',''rgba(75, 192, 192, 1)'',''rgba(75, 192, 192, 1)'',''rgba(75, 192, 192, 1)'',''rgba(75, 192, 192, 1)'',''rgba(75, 192, 192, 1)'',''rgba(75, 192, 192, 1)'',''rgba(75, 192, 192, 1)'',''rgba(75, 192, 192, 1)'']},{backgroundColor: [''rgba(153, 102, 255, 1)'',''rgba(153, 102, 255, 1)'',''rgba(153, 102, 255, 1)'',''rgba(153, 102, 255, 1)'',''rgba(153, 102, 255, 1)'',''rgba(153, 102, 255, 1)'',''rgba(153, 102, 255, 1)'',''rgba(153, 102, 255, 1)'',''rgba(153, 102, 255, 1)'',''rgba(153, 102, 255, 1)'',''rgba(153, 102, 255, 1)'',''rgba(153, 102, 255, 1)'',''rgba(153, 102, 255, 1)'',''rgba(153, 102, 255, 1)'',''rgba(153, 102, 255, 1)'',''rgba(153, 102, 255, 1)'',''rgba(153, 102, 255, 1)'',''rgba(153, 102, 255, 1)'',''rgba(153, 102, 255, 1)'',''rgba(153, 102, 255, 1)'',''rgba(153, 102, 255, 1)'',''rgba(153, 102, 255, 1)'',''rgba(153, 102, 255, 1)'',''rgba(153, 102, 255, 1)'',''rgba(153, 102, 255, 1)'',''rgba(153, 102, 255, 1)'',''rgba(153, 102, 255, 1)'',''rgba(153, 102, 255, 1)'',''rgba(153, 102, 255, 1)'',''rgba(153, 102, 255, 1)'',''rgba(153, 102, 255, 1)'',''rgba(153, 102, 255, 1)'',''rgba(153, 102, 255, 1)'',''rgba(153, 102, 255, 1)'',''rgba(153, 102, 255, 1)'',''rgba(153, 102, 255, 1)'',''rgba(153, 102, 255, 1)'',''rgba(153, 102, 255, 1)'',''rgba(153, 102, 255, 1)'',''rgba(153, 102, 255, 1)'',''rgba(153, 102, 255, 1)'',''rgba(153, 102, 255, 1)'',''rgba(153, 102, 255, 1)'',''rgba(153, 102, 255, 1)'',''rgba(153, 102, 255, 1)'',''rgba(153, 102, 255, 1)'',''rgba(153, 102, 255, 1)'',''rgba(153, 102, 255, 1)'',''rgba(153, 102, 255, 1)'',''rgba(153, 102, 255, 1)'',''rgba(153, 102, 255, 1)'',''rgba(153, 102, 255, 1)'']},{backgroundColor: [''rgba(255, 159, 64, 1)'',''rgba(255, 159, 64, 1)'',''rgba(255, 159, 64, 1)'',''rgba(255, 159, 64, 1)'',''rgba(255, 159, 64, 1)'',''rgba(255, 159, 64, 1)'',''rgba(255, 159, 64, 1)'',''rgba(255, 159, 64, 1)'',''rgba(255, 159, 64, 1)'',''rgba(255, 159, 64, 1)'',''rgba(255, 159, 64, 1)'',''rgba(255, 159, 64, 1)'',''rgba(255, 159, 64, 1)'',''rgba(255, 159, 64, 1)'',''rgba(255, 159, 64, 1)'',''rgba(255, 159, 64, 1)'',''rgba(255, 159, 64, 1)'',''rgba(255, 159, 64, 1)'',''rgba(255, 159, 64, 1)'',''rgba(255, 159, 64, 1)'',''rgba(255, 159, 64, 1)'',''rgba(255, 159, 64, 1)'',''rgba(255, 159, 64, 1)'',''rgba(255, 159, 64, 1)'',''rgba(255, 159, 64, 1)'',''rgba(255, 159, 64, 1)'',''rgba(255, 159, 64, 1)'',''rgba(255, 159, 64, 1)'',''rgba(255, 159, 64, 1)'',''rgba(255, 159, 64, 1)'',''rgba(255, 159, 64, 1)'',''rgba(255, 159, 64, 1)'',''rgba(255, 159, 64, 1)'',''rgba(255, 159, 64, 1)'',''rgba(255, 159, 64, 1)'',''rgba(255, 159, 64, 1)'',''rgba(255, 159, 64, 1)'',''rgba(255, 159, 64, 1)'',''rgba(255, 159, 64, 1)'',''rgba(255, 159, 64, 1)'',''rgba(255, 159, 64, 1)'',''rgba(255, 159, 64, 1)'',''rgba(255, 159, 64, 1)'',''rgba(255, 159, 64, 1)'']},{backgroundColor: [''rgba(255,99,132,1)'']},{backgroundColor: [''rgba(54, 162, 235, 1)'']},{backgroundColor: [''rgba(255, 206, 86, 1)'']},{backgroundColor: [''rgba(75, 192, 192, 1)'']},{backgroundColor: [''rgba(153, 102, 255, 1)'']},{backgroundColor: [''rgba(255, 159, 64, 1)'']}];
                                }
                                this.local.flatObj[j]["sets"][m] = k.substring(0, 12) + "...";
                                for(let l in firstElem[pathToSearch][elem]["children_label"]){
                                    /*
                                    "children": {
                                        "Line 1": "Option 1",
                                        "Line 2": "Option 2",
                                        "Line 3": "Option 1"
                                      },
                                      "children_label": [
                                        {
                                          "value": "Option 1"
                                        },
                                        {
                                          "value": "Option 2"
                                        }
                                      ]
                                    */
                                    if(this.local.flatObj[j]["value"][+l] == undefined){
                                        this.local.flatObj[j]["value"][+l] = [];
                                    }
                                    if(this.local.flatObj[j]["value"][+l]["label"] == undefined){
                                        this.local.flatObj[j]["value"][+l]["label"] = firstElem[pathToSearch][elem]["children_label"][+l]["value"].length > 12 ? firstElem[pathToSearch][elem]["children_label"][+l]["value"].substring(0, 12) + "..." : firstElem[pathToSearch][elem]["children_label"][+l]["value"];
                                    }
                                    if(this.local.flatObj[j]["value"][+l]["data"] == undefined){
                                        this.local.flatObj[j]["value"][+l]["data"] = []; 
                                    }
                                    if(this.local.flatObj[j]["value"][+l]["data"][m] == undefined){
                                        this.local.flatObj[j]["value"][+l]["data"][m] = 0;
                                    }
                                    if(firstElem[pathToSearch][elem]["children_label"][l].value == firstElem[pathToSearch][elem]["children"][k]){
                                        this.local.flatObj[j]["value"][+l]["data"][m] ++;    
                                    }   
                                }
                                m++;
                            }
                        }
                        else if(firstElem[pathToSearch][elem].type == "slider"){
                            if(i == 0){
                                this.local.flatObj[j] = {"label":firstElem[pathToSearch][elem].label, "labelHtml": firstElem[pathToSearch][elem].labelHtml, "type":firstElem[pathToSearch][elem].type, value: [], sets:[], "name": firstElem[pathToSearch][elem]["name"]};   
                            }
                            // val == firstElem[pathToSearch][elem]["value"]
                            if(firstElem[pathToSearch][elem]["value"] !== "" ){
                                if(this.local.table == undefined){
                                    this.local.table = [];    
                                }
                                if(this.local.table[j] == undefined){
                                    this.local.table[j] = {};    
                                }
                                if(this.local.table[j][firstElem[pathToSearch][elem]["value"]] == undefined){
                                    this.local.table[j][firstElem[pathToSearch][elem]["value"]] = this.local.flatObj[j]["value"].push({data:[1], label:firstElem[pathToSearch][elem]["value"]}) -1;
                                }
                                else{
                                    let index = this.local.table[j][firstElem[pathToSearch][elem]["value"]];
                                    let count = this.local.flatObj[j]["value"][index]["data"][0];
                                    this.local.flatObj[j]["value"][index]["data"] = [count +1];   //
                                }
                            }
                        }
                        else if(firstElem[pathToSearch][elem].type == "ion-card"){
                            j = iterrateOverChildrens(firstElem[pathToSearch][elem], j, "children", firstElem["_id"]);
                        }
                        j++;
                    }
                    return j;
                };
                let flatenize = (Obj: any) => {
                    
                    for(let firstElem of Obj){
                        this.local.countResponses = Obj.length;
                        let j = 0;
                        iterrateOverChildrens(firstElem, j, "resp", firstElem["_id"]);
        				iterrateOverActionsValue(firstElem, 0);
                        i++;
                    }
                };
                if(this.local.currentResponses != undefined){
                    flatenize(this.local.currentResponses);
                    this.local.noresponse = false;
                    this.tick();
                }
                else{
                    this.local.noresponse = true;
                }
        	}
        	/*End_c8o_PageFunction*/
        '
segment: datapage/:formId/:version
title: Title for dataPage
↓Header [ngx.components.UIDynamicElement-1580149563645]: 
  beanData: '{"ionBean":"Header"}'
  tagName: ion-header
  ↓UseSharedComponent [ngx.components.UIUseShared-1580149563714]: 
    sharedcomponent: C8Oforms_NGX.MobileApplication.Application.sharedHeaderData
↓Content [ngx.components.UIDynamicElement-1580149551037]: 
  beanData: '{"ionBean":"Content"}'
  tagName: ion-content
  ↓Grid [ngx.components.UIDynamicElement-1580302368230]: 
    beanData: '{"ionBean":"Grid"}'
    tagName: ion-grid
    ↓GridRow [ngx.components.UIDynamicElement-1580302368233]: 
      beanData: '{"ionBean":"GridRow"}'
      tagName: ion-row
      ↓GridCol [ngx.components.UIDynamicElement-1580302368236]: 
        beanData: |
          '{
           "ionBean": "GridCol",
           "SizeLg": "plain:2",
           "SizeMd": "plain:1",
           "SizeXl": "plain:3"
          }'
        tagName: ion-col
      ↓GridCol1 [ngx.components.UIDynamicElement-1580302368239]: 
        beanData: |
          '{
           "ionBean": "GridCol",
           "SizeLg": "plain:8",
           "SizeMd": "plain:10",
           "SizeSm": "plain:12",
           "SizeXl": "plain:6",
           "SizeXs": "plain:12"
          }'
        tagName: ion-col
        ↓Directive1 [ngx.components.UIControlDirective-1580388124895]: 
          directiveName: If
          directiveSource: 
            - xmlizable: 
              - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
              - MobileSmartSourceType: script:this.local.spinner == false && this.local.noresponse == false
          ↓CardContainer1 [ngx.components.UIDynamicElement-1580302368242]: 
            beanData: '{"ionBean":"Card"}'
            tagName: ion-card
            ↓Style [ngx.components.UIStyle-1580302368497]: 
              styleContent: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                  - com.twinsoft.convertigo.beans.common.FormatedContent: 
                    →: |
                      'background-color: rgba(255,255,255,0.9);
                      border-radius: 5px;
                      
                      '
            ↓CardHeader [ngx.components.UIDynamicElement-1580304910773]: 
              beanData: '{"ionBean":"CardHeader"}'
              tagName: ion-card-header
              ↓Grid [ngx.components.UIDynamicElement-1580304934697]: 
                beanData: '{"ionBean":"Grid"}'
                tagName: ion-grid
                ↓GridRow1 [ngx.components.UIDynamicElement-1580319898069]: 
                  beanData: '{"ionBean":"GridRow"}'
                  tagName: ion-row
                  ↓GridCol [ngx.components.UIDynamicElement-1580319911410]: 
                    beanData: '{"ionBean":"GridCol"}'
                    tagName: ion-col
                    ↓GenericItem [ngx.components.UIDynamicElement-1580319920036]: 
                      beanData: '{"ionBean":"GenericItem"}'
                      tagName: ion-item
                      ↓H2 [ngx.components.UIDynamicElement-1580319925705]: 
                        beanData: '{"ionBean":"Heading2"}'
                        tagName: h2
                        ↓Style [ngx.components.UIStyle-1580320346789]: 
                          styleContent: 
                            - xmlizable: 
                              - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                              - com.twinsoft.convertigo.beans.common.FormatedContent: 
                                →: |
                                  color:#0cbbe7;
                                  
                        ↓Text [ngx.components.UIText-1580319936703]: 
                          i18n: true
                          textValue: 
                            - xmlizable: 
                              - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                              - MobileSmartSourceType: script:(this.local.formName?.substring(0,1)?.toUpperCase() + this.local.formName?.substring(1))
                      ↓Paragraph [ngx.components.UIDynamicElement-1580319931159]: 
                        beanData: '{"ionBean":"Paragraph"}'
                        tagName: p
                        ↓Text [ngx.components.UIText-1580319938685]: 
                          i18n: true
                          textValue: 
                            - xmlizable: 
                              - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                              - MobileSmartSourceType: script:this.local.countResponses + '  '+ translate.instant('answer_s')
                  ↓GridCol1 [ngx.components.UIDynamicElement-1593770667417]: 
                    beanData: '{"ionBean":"GridCol"}'
                    tagName: ion-col
                    ↓ButtonSet [ngx.components.UIDynamicElement-1593770715696]: 
                      beanData: '{"ionBean":"ButtonSet","SetPosition":"plain:end"}'
                      tagName: ion-buttons
                      ↓Button [ngx.components.UIDynamicElement-1593770674664]: 
                        beanData: '{"ionBean":"Button"}'
                        tagName: ion-button
                        ↓Icon [ngx.components.UIDynamicElement-1593770681416]: 
                          beanData: '{"ionBean":"Icon","IconName":"plain:trash"}'
                          tagName: ion-icon
                        ↓Attr [ngx.components.UIAttribute-1593770883055]: 
                          attrName: title
                          attrValue: 
                            - xmlizable: 
                              - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                              - MobileSmartSourceType: script:translate.instant('delete_for_version')
                        ↓Event [ngx.components.UIControlEvent-1593770916304]: 
                          ↓showAlertConfirmation [ngx.components.UIDynamicAction-1593771018486]: 
                            beanData: |
                              '{
                               "ionBean": "AlertAction",
                               "header": "script:this.translate.instant(''Supprimer'')",
                               "subHeader": "script:this.translate.instant(''delete_for_version'') + '' ?''",
                               "message": "plain:",
                               "cssClass": "plain:alertCustom c8o-alert-create-form",
                               "button1": "script:this.translate.instant(''non'')",
                               "button2": "script:this.translate.instant(''oui'')",
                               "value1": "plain:0",
                               "value2": "plain:1",
                               "cancel1": "plain:cancel",
                               "css1": "plain:yesnobt",
                               "css2": "plain:yesnobt"
                              }'
                            ↓IfConfirmed [ngx.components.UIDynamicAction-1593771018489]: 
                              beanData: '{"ionBean":"IfAction","condition":"script:parent.out == 1"}'
                              ↓CustomAction [ngx.components.UICustomAction-1593771177871]: 
                                actionValue: 
                                  - xmlizable: 
                                    - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                                    - com.twinsoft.convertigo.beans.common.FormatedContent: 
                                      →: |
                                        		for(let elem of this.local.versions[this.local.index[this.local.currentIndex]]){
                                        		    
                                        		    this.c8o.callJson("fs://c8oforms_response_fs.delete", "docid", elem._id)
                                        		    .then((res)=>{
                                        	              console.log("res");
                                        	                console.log(res);
                                        		        return null;
                                        		    })
                                        		    .fail((err)=>{
                                        		        console.log("err");
                                        		        console.log(err);
                                        		    })
                                        		}
                                        		    resolve();
                                        
                      ↓Button_ExportCSV [ngx.components.UIDynamicElement-1604321610606]: 
                        beanData: '{"ionBean":"Button"}'
                        tagName: ion-button
                        ↓Attr [ngx.components.UIAttribute-1604321610612]: 
                          attrName: title
                          attrValue: 
                            - xmlizable: 
                              - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                              - MobileSmartSourceType: script:translate.instant('respCsv')
                        ↓Event [ngx.components.UIControlEvent-1604321610615]: 
                          ↓invokeReplaceEmpty [ngx.components.UIDynamicInvoke-1613751148629]: 
                            beanData: '{"ionBean":"InvokeAction"}'
                            stack: C8Oforms_NGX.MobileApplication.Application.replaceEmptyFunction
                            ↓InvokeGetOffset [ngx.components.UIDynamicInvoke-1613751148632]: 
                              beanData: '{"ionBean":"InvokeAction"}'
                              stack: C8Oforms_NGX.MobileApplication.Application.getOffsetFunction
                              ↓InvokeSharedAction [ngx.components.UIDynamicInvoke-1613751148635]: 
                                beanData: '{"ionBean":"InvokeAction"}'
                                stack: C8Oforms_NGX.MobileApplication.Application.popOverDownloadCsv
                                ↓selectedForm [ngx.components.UIControlVariable-1613751148638]: 
                                  varValue: 
                                    - xmlizable: 
                                      - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                      - MobileSmartSourceType: script:this.local.form
                                ↓name [ngx.components.UIControlVariable-1613751148641]: 
                                  varValue: 
                                    - xmlizable: 
                                      - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                      - MobileSmartSourceType: script:stack['invokeReplaceEmpty'].out
                                ↓offset [ngx.components.UIControlVariable-1613751148644]: 
                                  varValue: 
                                    - xmlizable: 
                                      - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                      - MobileSmartSourceType: script:stack['InvokeGetOffset'].out
                                ↓version [ngx.components.UIControlVariable-1614085387504]: 
                                  varValue: 
                                    - xmlizable: 
                                      - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                      - MobileSmartSourceType: script:"" + this.local.index[this.local.currentIndex]
                            ↓name [ngx.components.UIControlVariable-1613751148650]: 
                              varValue: 
                                - xmlizable: 
                                  - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                                  - MobileSmartSourceType: script:this.local.formName
                        ↓Icon1 [ngx.components.UIDynamicElement-1604321628407]: 
                          beanData: '{"ionBean":"Icon","IconName":"plain:custom-csv"}'
                          tagName: ion-icon
                          ↓Style [ngx.components.UIStyle-1604322431072]: 
                            styleContent: 
                              - xmlizable: 
                                - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                                - com.twinsoft.convertigo.beans.common.FormatedContent: 
                                  →: |
                                    '	height: 26px;
                                    '
                ↓GridRow [ngx.components.UIDynamicElement-1580304938302]: 
                  beanData: '{"ionBean":"GridRow"}'
                  tagName: ion-row
                  ↓GridCol [ngx.components.UIDynamicElement-1580304945330]: 
                    beanData: '{"ionBean":"GridCol","Size":"plain:2"}'
                    tagName: ion-col
                    ↓Icon [ngx.components.UIDynamicElement-1580304984729]: 
                      beanData: '{"ionBean":"Icon","IconName":"plain:arrow-back"}'
                      tagName: ion-icon
                      ↓Style [ngx.components.UIStyle-1580305741636]: 
                      ↓Event [ngx.components.UIControlEvent-1580305785138]: 
                        ↓moveBackward [ngx.components.UICustomAction-1580305791430]: 
                          actionValue: 
                            - xmlizable: 
                              - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                              - com.twinsoft.convertigo.beans.common.FormatedContent: 
                                →: |
                                  		let length = page.local.index.length;
                                  		let currentIndex = page.local.currentIndex;
                                  		if(currentIndex == 0){
                                  		    //then we can't move backward
                                  		}
                                  		else{
                                  		    page.local.currentIndex = page.local.currentIndex - 1;
                                  		    this.processResults();
                                  		}
                                  		resolve();
                                  
                      ↓Attr [ngx.components.UIAttribute-1580307018382]: 
                        attrName: '[ngClass]'
                        attrValue: 
                          - xmlizable: 
                            - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                            - MobileSmartSourceType: 'script:this.local.currentIndex == 0 ? ''arrowNonAuthorised'' : ''arrowAuthorised'' '
                      ↓Attr1 [ngx.components.UIAttribute-1580307227015]: 
                        attrName: '[attr.disabled]'
                        attrValue: 
                          - xmlizable: 
                            - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                            - MobileSmartSourceType: script:this.local.currentIndex == 0
                  ↓GridCol1 [ngx.components.UIDynamicElement-1580304956599]: 
                    beanData: '{"ionBean":"GridCol","Size":"plain:8"}'
                    tagName: ion-col
                    ↓FormatLayout [ngx.components.UIDynamicAttr-1645090139946]: 
                      beanData: '{"ionBean":"FormatLayout","TextAlignment":"plain:ion-text-center"}'
                      comment: FormatLayout
                      tagName: div
                    ↓Directive [ngx.components.UIControlDirective-1580305559626]: 
                      directiveName: If
                      directiveSource: 
                        - xmlizable: 
                          - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                          - MobileSmartSourceType: script:this.local.currentIndex != undefined
                      ↓Text [ngx.components.UIText-1580305019119]: 
                        textValue: 
                          - xmlizable: 
                            - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                            - MobileSmartSourceType: script:translate.instant('version')+this.local.index[this.local.currentIndex] 
                  ↓GridCol2 [ngx.components.UIDynamicElement-1580304958407]: 
                    beanData: '{"ionBean":"GridCol","Size":"plain:2"}'
                    tagName: ion-col
                    ↓Icon [ngx.components.UIDynamicElement-1580305001795]: 
                      beanData: '{"ionBean":"Icon","IconName":"plain:arrow-forward"}'
                      tagName: ion-icon
                      ↓Style [ngx.components.UIStyle-1580305704231]: 
                        styleContent: 
                          - xmlizable: 
                            - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                            - com.twinsoft.convertigo.beans.common.FormatedContent: 
                              →: |
                                position:relative;
                                float:right;
                                
                      ↓Event [ngx.components.UIControlEvent-1580306549138]: 
                        ↓moveForward [ngx.components.UICustomAction-1580306549141]: 
                          actionValue: 
                            - xmlizable: 
                              - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                              - com.twinsoft.convertigo.beans.common.FormatedContent: 
                                →: |
                                  		let last = page.local.index.length -1;
                                  		let currentIndex = page.local.currentIndex;
                                  		if(currentIndex == last){
                                  		    //then we can't move forward
                                  		}
                                  		else{
                                  		    page.local.currentIndex = page.local.currentIndex + 1;
                                  		    this.processResults();
                                  		}
                                  		resolve();
                                  
                      ↓Attr [ngx.components.UIAttribute-1580307304084]: 
                        attrName: '[ngClass]'
                        attrValue: 
                          - xmlizable: 
                            - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                            - MobileSmartSourceType: 'script:this.local.currentIndex == this.local.index?.length -1 ? ''arrowNonAuthorised'' : ''arrowAuthorised'' '
            ↓CardContent [ngx.components.UIDynamicElement-1580313167065]: 
              beanData: '{"ionBean":"CardContent"}'
              isEnabled: false
              tagName: ion-card-content
              ↓Directive [ngx.components.UIControlDirective-1580313178238]: 
                directiveItemName: item1
                directiveSource: 
                  - xmlizable: 
                    - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                    - MobileSmartSourceType: script:this.local.flatObj
                ↓UseSharedComponent [ngx.components.UIUseShared-1580314240061]: 
                  sharedcomponent: C8Oforms_NGX.MobileApplication.Application.sharedStatsInputText
                  ↓element [ngx.components.UIUseVariable-1580314249813]: 
                    varValue: 
                      - xmlizable: 
                        - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                        - MobileSmartSourceType: script:item1
          ↓Directive [ngx.components.UIControlDirective-1580314535530]: 
            directiveItemName: item1
            directiveSource: 
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                - MobileSmartSourceType: script:this.local.flatObj
            ↓UseSharedComponent [ngx.components.UIUseShared-1580314535533]: 
              sharedcomponent: C8Oforms_NGX.MobileApplication.Application.sharedStatsInputText
              ↓element [ngx.components.UIUseVariable-1580314535536]: 
                varValue: 
                  - xmlizable: 
                    - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                    - MobileSmartSourceType: script:item1
            ↓UseSharedComponent1 [ngx.components.UIUseShared-1581589904135]: 
              sharedcomponent: C8Oforms_NGX.MobileApplication.Application.sharedStatsCheckbox
              ↓element [ngx.components.UIUseVariable-1581589971706]: 
                varValue: 
                  - xmlizable: 
                    - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                    - MobileSmartSourceType: script:item1
            ↓UseSharedComponent2 [ngx.components.UIUseShared-1581602120389]: 
              sharedcomponent: C8Oforms_NGX.MobileApplication.Application.sharedStatsRadio
              ↓element [ngx.components.UIUseVariable-1581602135412]: 
                varValue: 
                  - xmlizable: 
                    - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                    - MobileSmartSourceType: script:item1
            ↓UseSharedComponent3 [ngx.components.UIUseShared-1581609594330]: 
              sharedcomponent: C8Oforms_NGX.MobileApplication.Application.sharedStatsCheckboxGroup
              ↓element [ngx.components.UIUseVariable-1581609606886]: 
                varValue: 
                  - xmlizable: 
                    - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                    - MobileSmartSourceType: script:item1
            ↓UseSharedComponent4 [ngx.components.UIUseShared-1581680232054]: 
              sharedcomponent: C8Oforms_NGX.MobileApplication.Application.sharedStatsSlider
              ↓element [ngx.components.UIUseVariable-1581680249159]: 
                varValue: 
                  - xmlizable: 
                    - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                    - MobileSmartSourceType: script:item1
            ↓UseSharedComponent41 [ngx.components.UIUseShared-1581690429848]: 
              sharedcomponent: C8Oforms_NGX.MobileApplication.Application.sharedStatsImg
              ↓element [ngx.components.UIUseVariable-1581690429851]: 
                varValue: 
                  - xmlizable: 
                    - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                    - MobileSmartSourceType: script:item1
          ↓Directive1 [ngx.components.UIControlDirective-1615559995639]: 
            directiveItemName: item3
            directiveSource: 
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                - MobileSmartSourceType: script:this.local.flatObj2
            ↓UseSharedComponent [ngx.components.UIUseShared-1615560259928]: 
              sharedcomponent: C8Oforms_NGX.MobileApplication.Application.sharedStatsActions
              ↓element [ngx.components.UIUseVariable-1615560271382]: 
                varValue: 
                  - xmlizable: 
                    - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                    - MobileSmartSourceType: script:item3
        ↓Grid1Spinner [ngx.components.UIDynamicElement-1580302368500]: 
          beanData: '{"ionBean":"Grid"}'
          tagName: ion-grid
          ↓GridRow [ngx.components.UIDynamicElement-1580302368503]: 
            beanData: |
              '{
               "ionBean": "GridRow",
               "FlexJustifyContent": "plain:ion-justify-content-center",
               "FlexAlignement": "plain:ion-align-items-center"
              }'
            tagName: ion-row
            ↓GridCol [ngx.components.UIDynamicElement-1580302368506]: 
              beanData: |
                '{
                 "ionBean": "GridCol",
                 "FlexAlignement": "plain:ion-align-self-center",
                 "Size": "plain:12"
                }'
              tagName: ion-col
              ↓Div [ngx.components.UIDynamicElement-1580302368509]: 
                beanData: '{"ionBean":"DivTag"}'
                tagName: div
                ↓FragmentSpinner [ngx.components.UICustom-1580302368512]: 
                  htmlTemplate: <div  class="lds-roller"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div>
                ↓Style [ngx.components.UIStyle-1580302368515]: 
                  styleContent: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                      - com.twinsoft.convertigo.beans.common.FormatedContent: 
                        →: |
                          text-align:center;
                          
          ↓Attr [ngx.components.UIAttribute-1580302368518]: 
            attrName: '*ngIf'
            attrValue: 
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                - MobileSmartSourceType: plain:this.local.spinner == true
          ↓Style [ngx.components.UIStyle-1580302368521]: 
            styleContent: 
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                - com.twinsoft.convertigo.beans.common.FormatedContent: 
                  →: |
                    height:100%;
                    
        ↓Grid1Spinner1 [ngx.components.UIDynamicElement-1581947465320]: 
          beanData: '{"ionBean":"Grid"}'
          tagName: ion-grid
          ↓GridRow [ngx.components.UIDynamicElement-1581947465323]: 
            beanData: |
              '{
               "ionBean": "GridRow",
               "FlexJustifyContent": "plain:ion-justify-content-center",
               "FlexAlignement": "plain:ion-align-items-center"
              }'
            tagName: ion-row
            ↓GridCol [ngx.components.UIDynamicElement-1581947465326]: 
              beanData: |
                '{
                 "ionBean": "GridCol",
                 "FlexAlignement": "plain:ion-align-self-center",
                 "Size": "plain:12"
                }'
              tagName: ion-col
              ↓Div [ngx.components.UIDynamicElement-1581947465329]: 
                beanData: '{"ionBean":"DivTag"}'
                tagName: div
                ↓Style [ngx.components.UIStyle-1581947465335]: 
                  styleContent: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                      - com.twinsoft.convertigo.beans.common.FormatedContent: 
                        →: |
                          text-align:center;
                          
                ↓Text [ngx.components.UIText-1581947491049]: 
                  textValue: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                      - MobileSmartSourceType: plain:No responses yet
          ↓Attr [ngx.components.UIAttribute-1581947465338]: 
            attrName: '*ngIf'
            attrValue: 
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                - MobileSmartSourceType: plain:this.local.noresponse == true
          ↓Style [ngx.components.UIStyle-1581947465341]: 
            styleContent: 
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                - com.twinsoft.convertigo.beans.common.FormatedContent: 
                  →: |
                    height:100%;
                    
      ↓GridCol2 [ngx.components.UIDynamicElement-1580302368524]: 
        beanData: |
          '{
           "ionBean": "GridCol",
           "SizeLg": "plain:2",
           "SizeMd": "plain:1",
           "SizeXl": "plain:3"
          }'
        tagName: ion-col
↓PageEvent [ngx.components.UIPageEvent-1580149618480]: 
  viewEvent: onWillEnter
  ↓Error_Handler [ngx.components.UIActionErrorEvent-1586424813357]: 
    ↓InvokeSharedAction [ngx.components.UIDynamicInvoke-1586424830437]: 
      beanData: '{"ionBean":"InvokeAction"}'
      stack: C8Oforms_NGX.MobileApplication.Application.removeSpinner
  ↓Finally_Handler [ngx.components.UIActionFinallyEvent-1613988439931]: 
    ↓sync [ngx.components.UICustomAction-1580301887001]: 
      actionValue: 
        - xmlizable: 
          - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
          - com.twinsoft.convertigo.beans.common.FormatedContent: 
            →: |
              '		    
              		    page.local.versions = {};
              		    page.local.index = [];
              		    page.local.currentIndex = 0;
              		    let parameters = {
              		            "ddoc":"Design_document",
              		            "view":"getResponseByVersion",
              		            "__live": "dataPageView",
              		            "startkey":  page.local.formId,
              		            "endkey":  page.local.formId + "\ufff0",
              		            "group": true
              		            };
              		    
              		    
              		    page.c8o.callJsonObject("fs://c8oforms_response_fs.view", parameters)
              		    .then((response: any, params)=>{
              				var newHash = sha256(JSON.stringify(response));
              				if(newHash != this.local.hash){
              					page.local.hash = newHash;
              					page.local.versions = {};
              			        page.local.index = [];
              		            page.local.currentIndex = 0;
              			        let count = -1;
              			        for (let elem of response["rows"]){
              						// search for substring of "__" to compute version
              			            let version_number = elem.key.substring(elem.key.indexOf("__") + 2);
              			            version_number == "t"? "test": version_number;
              			            page.local.versions[version_number] = elem.value;
              			            page.local.index.push(version_number);
              			            count ++;
              			        }
              					// re-order versions
              					page.local.versions = Object.keys(page.local.versions).sort().reduce(
              					  (obj, key) => { 
              					    obj[key] = page.local.versions[key]; 
              					    return obj;
              					  }, 
              					  {}
              					);
              					// re-order indexes
              					page.local.index = page.local.index.sort((a, b)=> {
              					  return a - b;
              					})
              			        this.local.currentIndex = count;
              					page["processResults"]();
              				}
              		        resolve();
              		        return null;
              		    })
              		    .fail((error)=>{
              		        page.c8o.log.error("Error: dataPage => sync",error);
              		    })
              			let params2 = {"docid": this.local.formId};
              		    page.c8o.callJsonObject("fs://c8oforms_fs.get", params2)
              		    .then((resp:any, parameters:any)=>{
              				this.local.form = resp;
              		        this.local.formName = resp.name;
              				this.local.headers = {};
              		        return null;
              		    })
              		    .fail((error)=>{
              		        page.c8o.log.error("Error: dataPage => sync",error);
              		    })
              		    
              		    
              '
      package_dependencies: 
        - xmlizable: 
          - ↑classname: com.twinsoft.convertigo.beans.common.XMLVector
          - com.twinsoft.convertigo.beans.common.XMLVector: 
            - xmlizable: 
              - ↑classname: com.twinsoft.convertigo.beans.common.XMLVector
              - com.twinsoft.convertigo.beans.common.XMLVector: 
                - java.lang.String: 
                  - ↑value: js-sha256
                - java.lang.String: 
                  - ↑value: 0.9.0
      page_ts_imports: 
        - xmlizable: 
          - ↑classname: com.twinsoft.convertigo.beans.common.XMLVector
          - com.twinsoft.convertigo.beans.common.XMLVector: 
            - xmlizable: 
              - ↑classname: com.twinsoft.convertigo.beans.common.XMLVector
              - com.twinsoft.convertigo.beans.common.XMLVector: 
                - java.lang.String: 
                  - ↑value: C8oFullSyncChangeListener
                - java.lang.String: 
                  - ↑value: c8osdkangular
            - xmlizable: 
              - ↑classname: com.twinsoft.convertigo.beans.common.XMLVector
              - com.twinsoft.convertigo.beans.common.XMLVector: 
                - java.lang.String: 
                  - ↑value: sha256
                - java.lang.String: 
                  - ↑value: js-sha256
      ↓InvokeSharedAction [ngx.components.UIDynamicInvoke-1586424833202]: 
        beanData: '{"ionBean":"InvokeAction"}'
        stack: C8Oforms_NGX.MobileApplication.Application.removeSpinner
    ↓GetData [ngx.components.UIDynamicAction-1614087005899]: 
      beanData: |
        '{
         "ionBean": "FullSyncGetAction",
         "requestable": "plain:C8Oforms_NGX.c8oforms_fs",
         "noLoading": "plain:true",
         "_id": "script:''C8Oreserved_'' +this.c8o.session.user.name"
        }'
      ↓SetGlobal [ngx.components.UIDynamicAction-1614087005902]: 
        beanData: |
          '{
           "ionBean": "SetGlobalAction",
           "Property": "plain:settings",
           "Value": "script:parent.out"
          }'
  ↓InvokeSharedAction [ngx.components.UIDynamicInvoke-1586424841956]: 
    beanData: '{"ionBean":"InvokeAction"}'
    stack: C8Oforms_NGX.MobileApplication.Application.setSpinner
  ↓SyncDataResponses [ngx.components.UIDynamicAction-1580226984294]: 
    beanData: '{"ionBean":"FullSyncSyncAction","requestable":"plain:C8Oforms_NGX.c8oforms_response_fs"}'
  ↓SyncData [ngx.components.UIDynamicAction-1580226984303]: 
    beanData: '{"ionBean":"FullSyncSyncAction","requestable":"plain:C8Oforms_NGX.c8oforms_fs"}'
↓PageEvent1 [ngx.components.UIEventSubscriber-1645090139951]: 
  comment: Old implementation of onCanEnter. Prefer using AppGuard now.
  topic: CanEnter
  ↓CheckUser1 [ngx.components.UICustomAction-1580149618534]: 
    actionValue: 
      - xmlizable: 
        - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
        - com.twinsoft.convertigo.beans.common.FormatedContent: 
          →: |
            			page.local.formId = this.navParams.get('formId');
            		    this.local.offset = new Date().getTimezoneOffset() * 60000 * -1;
            		    if(page.c8o.session.status == C8oSessionStatus.Connected || page.c8o.session.status == C8oSessionStatus.HasBeenConnected){
                            resolve(true);
                        }
            			var ua = window.navigator.userAgent;
            			var isIE = /MSIE|Trident/.test(ua);
            			if(isIE){
            				resolve(false);
                            setTimeout(()=>{
                                page.routerProvider.setRoot("loginPage", {page:'editorPage', formId:page.local.formId}, null); 
                            }, 200);
                            return;
            			}
            		    const request = window["indexedDB"]["open"]("MyTestDatabase", 3);
                        request.onerror = (event)=> {
                            resolve(false);
                            setTimeout(()=>{
                                page.routerProvider.setRoot("loginPage", {page:'editorPage', formId:page.local.formId}, null); 
                            }, 200);
                            return;
                          };
                          request.onsuccess = (event)=> {
            		    // Getting user status (whenever he is logged or not)
            		    page.c8o.httpInterface.getUserServiceStatus()
            		    .then((res)=>{
            		        if(res.user.length == 64 || res.user.authenticated == false){
            		            setTimeout(()=>{
            	                    page.routerProvider.setRoot("loginPage", {page:'dataPage'}, null); 
            	                }, 200);
                                resolve(false);
                            }
                            else{
                                page.local.user = res.user;
                                resolve(true);
                            }
            		    })
            		    .catch((err)=>{
            		        setTimeout(()=>{
            		            page.routerProvider.setRoot("loginPage", {page:'historyPage'}, null); 
            		        }, 200);
            		        resolve(false);
            		    })
                          };
            		   /* this.local.debug = {};
                        let formId = this.navParams.get('formId');
                        if(formId != undefined){
                            this.local.formId = formId;
                            resolve(true);
                        }
                        else{
                            resolve(true);
                        }*/
                       
                        
            		/*
            		if(this.global.user == '' || this.global.user == undefined){
            		    window.location.href = './';
            		    resolve(false);
            		}
            		else{
            		    resolve(true);
            		}*/
            
    page_ts_imports: 
      - xmlizable: 
        - ↑classname: com.twinsoft.convertigo.beans.common.XMLVector
        - com.twinsoft.convertigo.beans.common.XMLVector: 
          - xmlizable: 
            - ↑classname: com.twinsoft.convertigo.beans.common.XMLVector
            - com.twinsoft.convertigo.beans.common.XMLVector: 
              - java.lang.String: 
                - ↑value: C8oSessionStatus
              - java.lang.String: 
                - ↑value: c8osdkangular
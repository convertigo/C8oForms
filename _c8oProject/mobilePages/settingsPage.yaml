comment: Settings
icon: settings
menu: C8Oforms.MobileApplication.Application.MenuSelector
scriptContent: 
  - xmlizable: 
    - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
    - com.twinsoft.convertigo.beans.common.FormatedContent: 
      →: |
        '/*Begin_c8o_PageImport*/
        import { TranslateService } from ''@ngx-translate/core'';
        import {ToastController } from ''ionic-angular'';
        /*End_c8o_PageImport*/
        /*Begin_c8o_PageDeclaration*/
        	public fr = false;
        	public en = true;
        	public es = false;
        	public selectedItem;
        	/*End_c8o_PageDeclaration*/
        /*Begin_c8o_PageConstructor*/
        		/*End_c8o_PageConstructor*/
        /*Begin_c8o_PageFunction*/
        	getTranslate(msgTosearch :string): Promise<any>{
                return new Promise((resolve, reject)=>{
                    let translate = this.getInstance(TranslateService)
                    translate.get(msgTosearch).subscribe((res: string) => {
                        resolve(res);
                    });
                });        
            }
        	
        	public showToast(msg:string){
                let toastCtrl = this.getInstance(ToastController);
                let toast = toastCtrl.create({
                    message: msg,
                    duration: 3000,
                    cssClass:"changeToast"
                })
                toast.present();
            }
        	
        	public selected(e){
        	    if(e["target"]["files"]["length"] > 0){
        	        this.c8o.callJson("fs://c8oform_users_objects.put_attachment",
        	                "docid", this.global["user"], "name", "theme.jpg",
        	                "content_type", "image/jpeg", "content", e["target"]["files"][0])
        	                .then((resp)=>{
        	                    this.resetImageCache(''theme.jpg'');
        	                    this.c8o.callJson("fs://c8oform_users_objects.post",
        	                            "default", false,
        	                            "_use_policy", "merge",
        	                            ''_id'', this.global[''user''])
        	                            .then((res)=>{
        	                                this.getTranslate("updateImg")
        	                                .then((res)=>{
        	                                    this.showToast(res);
        	                                    
        	                                })
        	                                return null;
        	                            })
        	                            .fail((err)=>{
        	                                console.log(err);
        	                            })
        	                    return null;
        	                })
        	                .fail((err)=>{
        	                    console.log(err);
        	                })
        	        
        	        
        	       
        	    }
        	         /*
        	          * let resultGet = await this.c8o.callJson("fs://base.put_attachment", 
                    "docid", id, "name", "text2.txt", "content_type", "text/plain", "content", new Blob(["Hello Convertigo !"], {type: "text/plain"})).async();
         
        	            }*/
        	     console.log("selected");
        	     console.log(e);
        	}
        	/*End_c8o_PageFunction*/
        '
segment: settings
title: Settings
↓Header [mobile.components.UIDynamicElement-1539697882623]: 
  tagName: ion-header
  beanData: '{"ionBean":"Header"}'
  ↓NavBar [mobile.components.UIDynamicElement-1539697882766]: 
    tagName: ion-navbar
    beanData: '{"ionBean":"NavBar","IonColor":"plain:primary"}'
    ↓BarTitle [mobile.components.UIDynamicElement-1539697882909]: 
      tagName: ion-title
      beanData: '{"ionBean":"BarTitle"}'
      ↓TextFormat [mobile.components.UIDynamicElement-1539697883102]: 
        tagName: div
        beanData: '{"ionBean":"TextFormat","TextCenter":"plain:text-center"}'
        ↓Text [mobile.components.UIText-1539697883271]: 
          textValue: 
            - xmlizable: 
              - ↑classname: com.twinsoft.convertigo.beans.mobile.components.MobileSmartSourceType
              - MobileSmartSourceType: plain:Convertigo Forms Builder
    ↓Button [mobile.components.UIDynamicElement-1539697883427]: 
      comment: A button to toggle the menu
      tagName: button
      beanData: |
        '{
         "ionBean": "Button",
         "ButtonFormType": "plain:false",
         "MenuMode": "plain:menuToggle"
        }'
      ↓Icon [mobile.components.UIDynamicElement-1539697883585]: 
        tagName: ion-icon
        beanData: '{"ionBean":"Icon","IconName":"plain:menu"}'
    ↓TextFormatLang [mobile.components.UIDynamicElement-1547663948850]: 
      tagName: div
      beanData: |
        '{
         "ionBean": "TextFormat",
         "TextLeft": "plain:text-left",
         "TextUpperCase": "plain:text-uppercase"
        }'
      ↓Text [mobile.components.UIText-1547663948853]: 
        textValue: 
          - xmlizable: 
            - ↑classname: com.twinsoft.convertigo.beans.mobile.components.MobileSmartSourceType
            - MobileSmartSourceType: script:this.global['language']
      ↓Style [mobile.components.UIStyle-1547663948856]: 
        styleContent: 
          - xmlizable: 
            - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
            - com.twinsoft.convertigo.beans.common.FormatedContent: 
              →: |
                'top: 50%;
                position: absolute;
                -ms-transform: translateY(-50%);
                  transform: translateY(-50%);
                  font-weight: bold;
                  font-size: 20;
                  color: white;
                '
    ↓ButtonSet [mobile.components.UIDynamicElement-1543518923173]: 
      tagName: ion-buttons
      beanData: '{"ionBean":"ButtonSet","SetPosition":"plain:right"}'
      ↓btEdit [mobile.components.UIDynamicElement-1543518923176]: 
        tagName: button
        beanData: |
          '{
           "ionBean": "Button",
           "ButtonFormType": "plain:false",
           "IonSize": "plain:large"
          }'
        ↓Icon [mobile.components.UIDynamicElement-1543518923179]: 
          tagName: ion-icon
          beanData: '{"ionBean":"Icon","IconName":"plain:build"}'
        ↓Event [mobile.components.UIControlEvent-1543518923182]: 
          ↓RootPage [mobile.components.UIDynamicAction-1543518923185]: 
            beanData: '{"ionBean":"RootPageAction","page":"plain:C8Oforms.MobileApplication.Application.editorPage"}'
      ↓btVisu [mobile.components.UIDynamicElement-1543518923188]: 
        tagName: button
        beanData: |
          '{
           "ionBean": "Button",
           "ButtonFormType": "plain:false",
           "IonSize": "plain:large"
          }'
        ↓Icon [mobile.components.UIDynamicElement-1543518923191]: 
          tagName: ion-icon
          beanData: '{"ionBean":"Icon","IconName":"plain:eye"}'
        ↓Event [mobile.components.UIControlEvent-1543518923194]: 
          ↓RootPage [mobile.components.UIDynamicAction-1543518923197]: 
            beanData: '{"ionBean":"RootPageAction","page":"plain:C8Oforms.MobileApplication.Application.viewerPage"}'
      ↓Attr [mobile.components.UIAttribute-1543518923200]: 
        attrName: '*ngIf'
        attrValue: 
          - xmlizable: 
            - ↑classname: com.twinsoft.convertigo.beans.mobile.components.MobileSmartSourceType
            - MobileSmartSourceType: plain:this.global?.formSelected?._id != undefined
↓Content [mobile.components.UIDynamicElement-1539697883741]: 
  tagName: ion-content
  beanData: '{"ionBean":"Content"}'
  ↓Grid [mobile.components.UIDynamicElement-1543346686507]: 
    tagName: ion-grid
    beanData: '{"ionBean":"Grid"}'
    ↓GridRow [mobile.components.UIDynamicElement-1543346686510]: 
      tagName: ion-row
      beanData: '{"ionBean":"GridRow"}'
      ↓GridCol [mobile.components.UIDynamicElement-1543346686513]: 
        tagName: ion-col
        beanData: |
          '{
           "ionBean": "GridCol",
           "ColumnsMedium": "plain:1",
           "ColumnsLarge": "plain:2",
           "ColumnsXLarge": "plain:3"
          }'
      ↓GridCol1 [mobile.components.UIDynamicElement-1543346686516]: 
        tagName: ion-col
        beanData: |
          '{
           "ionBean": "GridCol",
           "ColumnsXSmall": "plain:12",
           "ColumnsSmall": "plain:12",
           "ColumnsMedium": "plain:10",
           "ColumnsLarge": "plain:8",
           "ColumnsXLarge": "plain:6"
          }'
        ↓CardContainer [mobile.components.UIDynamicElement-1543346696755]: 
          tagName: ion-card
          beanData: '{"ionBean":"Card"}'
          ↓CardContent [mobile.components.UIDynamicElement-1543346696758]: 
            tagName: ion-card-content
            beanData: '{"ionBean":"CardContent"}'
            ↓Style [mobile.components.UIStyle-1547744765075]: 
              styleContent: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                  - com.twinsoft.convertigo.beans.common.FormatedContent: 
                    →: |
                      margin-left:34px;
                      margin-right:34px;
                      
            ↓Div [mobile.components.UIDynamicElement-1547744775368]: 
              tagName: div
              beanData: '{"ionBean":"DivTag"}'
              ↓ListContainer [mobile.components.UIDynamicElement-1543346696761]: 
                tagName: ion-list
                beanData: '{"ionBean":"List"}'
                ↓DividerItem [mobile.components.UIDynamicElement-1548879479210]: 
                  tagName: ion-item-divider
                  beanData: '{"ionBean":"Listdivider","IonColor":"plain:primary"}'
                  ↓TextFormat [mobile.components.UIDynamicElement-1548879479213]: 
                    tagName: div
                    beanData: '{"ionBean":"TextFormat","TextCapitalize":"plain:text-capitalize"}'
                    ↓Text [mobile.components.UIText-1548879495763]: 
                      textValue: 
                        - xmlizable: 
                          - ↑classname: com.twinsoft.convertigo.beans.mobile.components.MobileSmartSourceType
                          - MobileSmartSourceType: script:'language' | translate
                ↓GenericItem [mobile.components.UIDynamicElement-1543346696764]: 
                  tagName: ion-item
                  beanData: '{"ionBean":"GenericItem"}'
                  ↓Label [mobile.components.UIDynamicElement-1543346696767]: 
                    tagName: ion-label
                    beanData: '{"ionBean":"Label"}'
                    ↓TextFormat [mobile.components.UIDynamicElement-1543346696770]: 
                      tagName: div
                      beanData: '{"ionBean":"TextFormat","TextCapitalize":"plain:text-capitalize"}'
                      ↓Text [mobile.components.UIText-1543346696773]: 
                        textValue: 
                          - xmlizable: 
                            - ↑classname: com.twinsoft.convertigo.beans.mobile.components.MobileSmartSourceType
                            - MobileSmartSourceType: script:'language' | translate
                    ↓Style [mobile.components.UIStyle-1543843776289]: 
                      styleContent: 
                        - xmlizable: 
                          - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                          - com.twinsoft.convertigo.beans.common.FormatedContent: 
                            →: |
                               background:rgba(255,255,255,0.0);
                              
                              
                  ↓SelectContainer [mobile.components.UIDynamicElement-1543346696776]: 
                    tagName: ion-select
                    beanData: '{"ionBean":"Select","interface":"plain:popover"}'
                    ↓SelectOptionFR [mobile.components.UIDynamicElement-1543346696779]: 
                      tagName: ion-option
                      beanData: |
                        '{
                         "ionBean": "Option",
                         "value": "plain:fr",
                         "selected": "script:fr"
                        }'
                      ↓Text [mobile.components.UIText-1543346696782]: 
                        textValue: 
                          - xmlizable: 
                            - ↑classname: com.twinsoft.convertigo.beans.mobile.components.MobileSmartSourceType
                            - MobileSmartSourceType: plain:Français
                    ↓SelectOptionEN [mobile.components.UIDynamicElement-1543346696785]: 
                      tagName: ion-option
                      beanData: |
                        '{
                         "ionBean": "Option",
                         "value": "plain:en",
                         "selected": "script:en"
                        }'
                      ↓Text [mobile.components.UIText-1543346696788]: 
                        textValue: 
                          - xmlizable: 
                            - ↑classname: com.twinsoft.convertigo.beans.mobile.components.MobileSmartSourceType
                            - MobileSmartSourceType: plain:English
                    ↓SelectOptionES [mobile.components.UIDynamicElement-1543346696791]: 
                      tagName: ion-option
                      beanData: |
                        '{
                         "ionBean": "Option",
                         "value": "plain:es",
                         "selected": "script:es"
                        }'
                      ↓Text [mobile.components.UIText-1543346696794]: 
                        textValue: 
                          - xmlizable: 
                            - ↑classname: com.twinsoft.convertigo.beans.mobile.components.MobileSmartSourceType
                            - MobileSmartSourceType: plain:Español
                    ↓Event [mobile.components.UIControlEvent-1543346696797]: 
                      attrName: (ionChange)
                      eventName: ionChange
                      ↓ChangeLanguage [mobile.components.UICustomAction-1543346696800]: 
                        actionValue: 
                          - xmlizable: 
                            - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                            - com.twinsoft.convertigo.beans.common.FormatedContent: 
                              →: |
                                		let lang = event.toString();
                                        localStorage.setItem('lang', lang);
                                		let translate = this.getInstance(TranslateService);
                                
                                		translate.use(lang);
                                
                                		this.fr = false;
                                
                                		this.en = false;
                                
                                		this.es = false;
                                
                                		this.selectedItem = lang;
                                
                                		this[lang] = true;
                                
                                		resolve();
                                
                                
                                
                                
                        ↓SetGlobal [mobile.components.UIDynamicAction-1543346696803]: 
                          beanData: |
                            '{
                             "ionBean": "SetGlobalAction",
                             "Property": "plain:language",
                             "Value": "script:stack[''ChangeLanguage''][''in''][''props''][''out'']"
                            }'
                        ↓IfUser [mobile.components.UIDynamicAction-1543346696806]: 
                          beanData: '{"ionBean":"IfAction","condition":"script:this.global.user != undefined"}'
                          ↓Log [mobile.components.UIDynamicAction-1543346696809]: 
                            beanData: '{"ionBean":"LogAction","message":"plain:user is defined, will save the preferences"}'
                          ↓CallSequence [mobile.components.UIDynamicAction-1543346696812]: 
                            beanData: '{"ionBean":"CallSequenceAction","requestable":"plain:C8Oforms.SetLanguage"}'
                            ↓email [mobile.components.UIControlVariable-1543346696815]: 
                              varValue: 
                                - xmlizable: 
                                  - ↑classname: com.twinsoft.convertigo.beans.mobile.components.MobileSmartSourceType
                                  - MobileSmartSourceType: script:this.global.user
                            ↓language [mobile.components.UIControlVariable-1543346696818]: 
                              varValue: 
                                - xmlizable: 
                                  - ↑classname: com.twinsoft.convertigo.beans.mobile.components.MobileSmartSourceType
                                  - MobileSmartSourceType: script:this.global.language
                            ↓Log [mobile.components.UIDynamicAction-1543346696821]: 
                              beanData: '{"ionBean":"LogAction","message":"plain:Language has been saved to profile"}'
                        ↓IfNotUser [mobile.components.UIDynamicAction-1543346696824]: 
                          beanData: '{"ionBean":"IfAction","condition":"script:this.global.user == undefined"}'
                          ↓Log [mobile.components.UIDynamicAction-1543346696827]: 
                            beanData: '{"ionBean":"LogAction","message":"plain:user is undefined cannot save preferences"}'
                    ↓Attr [mobile.components.UIAttribute-1543346696830]: 
                      attrName: '[(ngModel)]'
                      attrValue: 
                        - xmlizable: 
                          - ↑classname: com.twinsoft.convertigo.beans.mobile.components.MobileSmartSourceType
                          - MobileSmartSourceType: script:this.global['language']
                  ↓Attr2 [mobile.components.UIAttribute-1547744813899]: 
                    attrName: '[ngClass]'
                    attrValue: 
                      - xmlizable: 
                        - ↑classname: com.twinsoft.convertigo.beans.mobile.components.MobileSmartSourceType
                        - MobileSmartSourceType: script:'stylegenericcheckboxnormal'
                ↓DividerItem1 [mobile.components.UIDynamicElement-1548879504325]: 
                  tagName: ion-item-divider
                  beanData: '{"ionBean":"Listdivider","IonColor":"plain:primary"}'
                  ↓TextFormat [mobile.components.UIDynamicElement-1548879504328]: 
                    tagName: div
                    beanData: '{"ionBean":"TextFormat","TextCapitalize":"plain:text-capitalize"}'
                    ↓Text [mobile.components.UIText-1548879523392]: 
                      textValue: 
                        - xmlizable: 
                          - ↑classname: com.twinsoft.convertigo.beans.mobile.components.MobileSmartSourceType
                          - MobileSmartSourceType: script:'theme' | translate
                ↓ListItem [mobile.components.UIDynamicElement-1548879165288]: 
                  tagName: ion-item
                  beanData: '{"ionBean":"ListItem"}'
                  ↓Attr2 [mobile.components.UIAttribute-1548878759979]: 
                    attrName: '[ngClass]'
                    attrValue: 
                      - xmlizable: 
                        - ↑classname: com.twinsoft.convertigo.beans.mobile.components.MobileSmartSourceType
                        - MobileSmartSourceType: script:'stylegenericcheckboxnormal'
                  ↓Fragment [mobile.components.UICustom-1548879348661]: 
                    htmlTemplate: |
                      <input type="file"
                             id="fileSect"
                             accept="image/jpeg, image/jpg"
                             (change)="selected($event)">
              ↓Attr [mobile.components.UIAttribute-1547744780530]: 
                attrName: '[ngClass]'
                attrValue: 
                  - xmlizable: 
                    - ↑classname: com.twinsoft.convertigo.beans.mobile.components.MobileSmartSourceType
                    - MobileSmartSourceType: script:'styledivnormal'
          ↓Style [mobile.components.UIStyle-1547750456738]: 
            styleContent: 
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                - com.twinsoft.convertigo.beans.common.FormatedContent: 
                  →: |
                    'background-color: rgba(255,255,255,0.9);
                    
                    
                    '
      ↓GridCol2 [mobile.components.UIDynamicElement-1543346687428]: 
        tagName: ion-col
        beanData: |
          '{
           "ionBean": "GridCol",
           "ColumnsMedium": "plain:1",
           "ColumnsLarge": "plain:2",
           "ColumnsXLarge": "plain:3"
          }'
  ↓Style [mobile.components.UIStyle-1543843786214]: 
    styleContent: 
      - xmlizable: 
        - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
        - com.twinsoft.convertigo.beans.common.FormatedContent: 
          →: |
             background:rgba(255,255,255,1);
            
            
  ↓Style1 [mobile.components.UIStyle-1547750437641]: 
    styleContent: 
      - xmlizable: 
        - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
        - com.twinsoft.convertigo.beans.common.FormatedContent: 
          →: |
            '
              background-image: url(''../assets/images/flat.jpeg'');
            '
    isEnabled: false
  ↓Attr21 [mobile.components.UIAttribute-1550593607385]: 
    attrName: '[ngStyle]'
    attrValue: 
      - xmlizable: 
        - ↑classname: com.twinsoft.convertigo.beans.mobile.components.MobileSmartSourceType
        - MobileSmartSourceType: 'script:{''background-image'': ''url(assets/images/flat.jpeg)''}'
    isEnabled: false
  ↓Attr211 [mobile.components.UIAttribute-1550593707746]: 
    attrName: '[ngStyle]'
    attrValue: 
      - xmlizable: 
        - ↑classname: com.twinsoft.convertigo.beans.mobile.components.MobileSmartSourceType
        - MobileSmartSourceType: 'script:{''background-image'': ''url(assets/images/flat.jpeg)''}'
    isEnabled: false
↓PageEvent1 [mobile.components.UIPageEvent-1547568228626]: 
  viewEvent: onCanEnter
  ↓CheckUser [mobile.components.UICustomAction-1547568228629]: 
    actionValue: 
      - xmlizable: 
        - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
        - com.twinsoft.convertigo.beans.common.FormatedContent: 
          →: |
            		if(this.global.user == '' || this.global.user == undefined){
            		    window.location.href = './';
            		    resolve(false);
            		}
            		else{
            		    resolve(true);
            		}
            
    ↓If [mobile.components.UIDynamicAction-1547568228632]: 
      isEnabled: false
      beanData: '{"ionBean":"IfAction","condition":"script:parent.out == false"}'
isEnabled: false
scriptContent: 
  - xmlizable: 
    - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
    - com.twinsoft.convertigo.beans.common.FormatedContent: 
      →: |
        '/*Begin_c8o_PageImport*/
        import { sha256 } from ''js-sha256'';
        /*End_c8o_PageImport*/
        /*Begin_c8o_PageDeclaration*/
        	public form;
        	public pwa;
        	public isFirstPWA;
        	/*End_c8o_PageDeclaration*/
        /*Begin_c8o_PageConstructor*/
        		this.form = this.navParams.data.form;
        		this.isFirstPWA = this.navParams.data.isFirstPWA != undefined && this.navParams.data.isFirstPWA
        		
        		/*End_c8o_PageConstructor*/
        /*Begin_c8o_PageFunction*/
        	public async showToast(msg: string){
        	    let toastController = this.getInstance(ToastController);
                (await toastController.create({
                    message: msg,
                    duration: 3000,
                    position: ''bottom''
                  })).present();
        	}
        	
        	public makeid(length) {
                var result           = '''';
                var characters       = ''ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789'';
                var charactersLength = characters.length;
                for ( var i = 0; i < length; i++ ) {
                   result += characters.charAt(Math.floor(Math.random() * charactersLength));
                }
                return result;
            }
        	
        	public detectContentType(base64Content) {
                // base64 encoded data doesn''t contain commas    
               let base64ContentArray = base64Content.split(",")
               // base64 content cannot contain whitespaces but nevertheless skip if there are!
               return [base64ContentArray[0].match(/[^:\s*]\w+\/[\w-+\d.]+(?=[;| ])/)[0], base64ContentArray[1]];
            }
        	
        	public b64toBlob(b64Data, contentType='''', sliceSize=512){
               const byteCharacters = atob(b64Data);
               const byteArrays = [];
        
               for (let offset = 0; offset < byteCharacters.length; offset += sliceSize) {
                 const slice = byteCharacters.slice(offset, offset + sliceSize);
        
                 const byteNumbers = new Array(slice.length);
                 for (let i = 0; i < slice.length; i++) {
                   byteNumbers[i] = slice.charCodeAt(i);
                 }
        
                 const byteArray = new Uint8Array(byteNumbers);
                 byteArrays.push(byteArray);
               }
        
               const blob = new Blob(byteArrays, {type: contentType});
               return blob;
             }
           
           
        	/*End_c8o_PageFunction*/
        '
segment: path-to-createpwa
title: Title for CreatePwa
↓Header [ngx.components.UIDynamicElement-1613726447950]: 
  beanData: '{"ionBean":"Header"}'
  tagName: ion-header
  ↓FormatLayout [ngx.components.UIDynamicAttr-1645090140120]: 
    beanData: '{"ionBean":"FormatLayout","TextAlignment":"plain:ion-text-center"}'
    comment: FormatLayout
    tagName: div
  ↓Heading [ngx.components.UIDynamicTag-1613727025938]: 
    beanData: '{"ionBean":"Heading"}'
    tagName: h2
    ↓Text [ngx.components.UIText-1613726466628]: 
      i18n: true
      textValue: 
        - xmlizable: 
          - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
          - MobileSmartSourceType: plain:app_properties
  ↓Attr [ngx.components.UIAttribute-1613726681942]: 
    attrName: '*ngIf'
    attrValue: 
      - xmlizable: 
        - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
        - MobileSmartSourceType: plain:this.navParams.data.header === true
↓Content [ngx.components.UIDynamicElement-1603800553816]: 
  beanData: '{"ionBean":"Content"}'
  tagName: ion-content
  ↓Button [ngx.components.UIDynamicElement-1603880720943]: 
    beanData: '{"ionBean":"Button","IonSize":"plain:large"}'
    tagName: ion-button
    ↓Icon [ngx.components.UIDynamicElement-1603880720946]: 
      beanData: '{"ionBean":"Icon","IconName":"plain:close"}'
      tagName: ion-icon
    ↓Style [ngx.components.UIStyle-1603880720949]: 
      styleContent: 
        - xmlizable: 
          - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
          - com.twinsoft.convertigo.beans.common.FormatedContent: 
            →: |
              float:right;
              top:0;
              right:0;
              position:absolute;
              
    ↓Event [ngx.components.UIControlEvent-1603880720952]: 
      ↓CloseModal [ngx.components.UIDynamicAction-1603880720955]: 
        beanData: '{"ionBean":"CloseModalAction"}'
  ↓Directive [ngx.components.UIControlDirective-1603807348592]: 
    directiveName: If
    directiveSource: 
      - xmlizable: 
        - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
        - MobileSmartSourceType: plain:this.pwa != undefined
    ↓Grid1 [ngx.components.UIDynamicElement-1603804083537]: 
      beanData: '{"ionBean":"Grid"}'
      tagName: ion-grid
      ↓GridRow [ngx.components.UIDynamicElement-1603804090879]: 
        beanData: '{"ionBean":"GridRow"}'
        tagName: ion-row
        ↓GridCol [ngx.components.UIDynamicElement-1603804094922]: 
          beanData: |
            '{
             "ionBean": "GridCol",
             "Size": "plain:3",
             "SizeLg": "plain:3",
             "SizeMd": "plain:3",
             "SizeSm": "plain:12",
             "SizeXl": "plain:3",
             "SizeXs": "plain:12"
            }'
          tagName: ion-col
          ↓Div1 [ngx.components.UIDynamicElement-1603819151178]: 
            beanData: '{"ionBean":"DivTag"}'
            tagName: div
            ↓DivImg [ngx.components.UIDynamicElement-1603800885985]: 
              beanData: '{"ionBean":"DivTag"}'
              tagName: div
              ↓Style [ngx.components.UIStyle-1603800885988]: 
                styleContent: 
                  - xmlizable: 
                    - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                    - com.twinsoft.convertigo.beans.common.FormatedContent: 
                      →: |
                        '	/*margin-top: 3vh;*/
                        	/*margin: 0 auto;
                            display: table !important;*/
                        	z-index: 100;
                        	display: flex;
                        justify-content: center; /* align horizontal */
                        	
                        }
                        .class1603800885985:hover{
                        	cursor: pointer;
                        '
              ↓Directive [ngx.components.UIControlDirective-1603800886024]: 
                directiveName: If
                directiveSource: 
                  - xmlizable: 
                    - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                    - MobileSmartSourceType: script:(this.pwa._id != undefined && this.local.updatedImg != true) else ElseBlock_1603808476027
                ↓FSImage [ngx.components.UIDynamicElement-1603800886027]: 
                  beanData: |
                    '{
                     "ionBean": "FSImage",
                     "docid": "script:this.pwa._id",
                     "attachment": "script:''icon''",
                     "placeholder": "script:''assets\/images\/category.png''",
                     "requestable": "plain:C8Oforms_NGX.c8oforms_fs"
                    }'
                  selfClose: true
                  tagName: img
                  ↓Style [ngx.components.UIStyle-1603800886030]: 
                    styleContent: 
                      - xmlizable: 
                        - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                        - com.twinsoft.convertigo.beans.common.FormatedContent: 
                          →: |
                            '    width:182px;
                                height:182px;
                                -webkit-border-radius: 50%;
                                border-radius: 50%;
                                border: solid 9px #ffffff;
                              background-color: #d8d8d8;
                            
                            '
                  ↓Event [ngx.components.UIControlEvent-1603800885991]: 
                    ↓Finally_Handler [ngx.components.UIActionFinallyEvent-1603800885994]: 
                      ↓IfElse [ngx.components.UIDynamicIf-1603800885997]: 
                        beanData: '{"ionBean":"IfElseAction","condition":"script:this.local.spinner == false"}'
                        isEnabled: false
                        ↓Else_Handler [ngx.components.UIActionElseEvent-1603800886003]: 
                      ↓ModalPage [ngx.components.UIDynamicAction-1603800886000]: 
                        beanData: |
                          '{
                           "ionBean": "ModalAction",
                           "page": "plain:C8Oforms_NGX.MobileApplication.Application.wallPaperSelection",
                           "cssClass": "plain:mymodal"
                          }'
                        isEnabled: false
                    ↓IfElse [ngx.components.UIDynamicIf-1603800886006]: 
                      beanData: '{"ionBean":"IfElseAction","condition":"script:this.local.spinner == false"}'
                      isEnabled: false
                      ↓Else_Handler [ngx.components.UIActionElseEvent-1603800886021]: 
                    ↓SetGlobal [ngx.components.UIDynamicAction-1603800886009]: 
                      beanData: |
                        '{
                         "ionBean": "SetGlobalAction",
                         "Property": "plain:indexwall",
                         "Value": "script:this.form[''wallpaper''][''index'']"
                        }'
                      isEnabled: false
                      ↓SetGlobal1 [ngx.components.UIDynamicAction-1603800886012]: 
                        beanData: |
                          '{
                           "ionBean": "SetGlobalAction",
                           "Property": "plain:enabledTemp",
                           "Value": "script:this.form[''wallpaper''][''enabled''] != undefined ? this.form[''wallpaper''][''enabled''] : false"
                          }'
                      ↓wallType [ngx.components.UIDynamicAction-1603800886015]: 
                        beanData: |
                          '{
                           "ionBean": "SetGlobalAction",
                           "Property": "plain:wallType",
                           "Value": "script:this.form?.wallpaper?.type"
                          }'
                      ↓wallType1 [ngx.components.UIDynamicAction-1603800886018]: 
                        beanData: |
                          '{
                           "ionBean": "SetGlobalAction",
                           "Property": "plain:imgIndex",
                           "Value": "script:this.form?._id"
                          }'
                    ↓CustomAction [ngx.components.UICustomAction-1603882432356]: 
                      actionValue: 
                        - xmlizable: 
                          - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                          - com.twinsoft.convertigo.beans.common.FormatedContent: 
                            →: |
                              		this.global.multiple = false;
                              		resolve();
                              
                      ↓ModalPage [ngx.components.UIDynamicAction-1603881988935]: 
                        beanData: |
                          '{
                           "ionBean": "ModalAction",
                           "page": "plain:C8Oforms_NGX.MobileApplication.Application.dropFilePage",
                           "data": "script:{pwa: true}",
                           "blockWhileDisplayed": "plain:true",
                           "cssClass": "plain:modalCSV"
                          }'
                        ↓CustomAction [ngx.components.UICustomAction-1603889340298]: 
                          actionValue: 
                            - xmlizable: 
                              - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                              - com.twinsoft.convertigo.beans.common.FormatedContent: 
                                →: |
                                  '		if(page.global.pwafile != undefined){
                                  		    var reader = new FileReader();
                                              reader.readAsDataURL(page.global.pwafile[0]); 
                                              reader.onloadend = () => {
                                                  var base64data: any = reader.result;                
                                                  this.pwa.img = {data: base64data, url: this.router.sanitizer.bypassSecurityTrustUrl(base64data), blob : page.global.pwafile[0]};
                                                  this.local.updatedImg = true;
                                                  page.global.pwafile = undefined;
                                              }  
                                  		}
                                  		
                                  		resolve();
                                  '
              ↓Tag [ngx.components.UIElement-1603808476027]: 
                identifier: ElseBlock_1603808476027
                tagName: ng-template
                ↓Image [ngx.components.UIDynamicElement-1603808539173]: 
                  beanData: '{"ionBean":"Image","url":"script:this.pwa?.img?.url"}'
                  selfClose: true
                  tagName: img
                  ↓Style [ngx.components.UIStyle-1603808539180]: 
                    styleContent: 
                      - xmlizable: 
                        - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                        - com.twinsoft.convertigo.beans.common.FormatedContent: 
                          →: |
                            '    width:182px;
                                height:182px;
                                -webkit-border-radius: 50%;
                                border-radius: 50%;
                                border: solid 9px #ffffff;
                              background-color: #d8d8d8;
                            
                            '
                  ↓Event [ngx.components.UIControlEvent-1606903357140]: 
                    ↓Finally_Handler [ngx.components.UIActionFinallyEvent-1606903357143]: 
                      ↓IfElse [ngx.components.UIDynamicIf-1606903357146]: 
                        beanData: '{"ionBean":"IfElseAction","condition":"script:this.local.spinner == false"}'
                        isEnabled: false
                        ↓Else_Handler [ngx.components.UIActionElseEvent-1606903357149]: 
                      ↓ModalPage [ngx.components.UIDynamicAction-1606903357152]: 
                        beanData: |
                          '{
                           "ionBean": "ModalAction",
                           "page": "plain:C8Oforms_NGX.MobileApplication.Application.wallPaperSelection",
                           "cssClass": "plain:mymodal"
                          }'
                        isEnabled: false
                    ↓IfElse [ngx.components.UIDynamicIf-1606903357155]: 
                      beanData: '{"ionBean":"IfElseAction","condition":"script:this.local.spinner == false"}'
                      isEnabled: false
                      ↓Else_Handler [ngx.components.UIActionElseEvent-1606903357158]: 
                    ↓SetGlobal [ngx.components.UIDynamicAction-1606903357161]: 
                      beanData: |
                        '{
                         "ionBean": "SetGlobalAction",
                         "Property": "plain:indexwall",
                         "Value": "script:this.form[''wallpaper''][''index'']"
                        }'
                      isEnabled: false
                      ↓SetGlobal1 [ngx.components.UIDynamicAction-1606903357164]: 
                        beanData: |
                          '{
                           "ionBean": "SetGlobalAction",
                           "Property": "plain:enabledTemp",
                           "Value": "script:this.form[''wallpaper''][''enabled''] != undefined ? this.form[''wallpaper''][''enabled''] : false"
                          }'
                      ↓wallType [ngx.components.UIDynamicAction-1606903357167]: 
                        beanData: |
                          '{
                           "ionBean": "SetGlobalAction",
                           "Property": "plain:wallType",
                           "Value": "script:this.form?.wallpaper?.type"
                          }'
                      ↓wallType1 [ngx.components.UIDynamicAction-1606903357170]: 
                        beanData: |
                          '{
                           "ionBean": "SetGlobalAction",
                           "Property": "plain:imgIndex",
                           "Value": "script:this.form?._id"
                          }'
                    ↓CustomAction [ngx.components.UICustomAction-1606903357173]: 
                      actionValue: 
                        - xmlizable: 
                          - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                          - com.twinsoft.convertigo.beans.common.FormatedContent: 
                            →: |
                              		this.global.multiple = false;
                              		resolve();
                              
                      ↓ModalPage [ngx.components.UIDynamicAction-1606903357176]: 
                        beanData: |
                          '{
                           "ionBean": "ModalAction",
                           "page": "plain:C8Oforms_NGX.MobileApplication.Application.dropFilePage",
                           "data": "script:{pwa: true}",
                           "blockWhileDisplayed": "plain:true",
                           "cssClass": "plain:modalCSV"
                          }'
                        ↓CustomAction [ngx.components.UICustomAction-1606903357179]: 
                          actionValue: 
                            - xmlizable: 
                              - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                              - com.twinsoft.convertigo.beans.common.FormatedContent: 
                                →: |
                                  '		if(page.global.pwafile != undefined){
                                  		    var reader = new FileReader();
                                              reader.readAsDataURL(page.global.pwafile[0]); 
                                              reader.onloadend = () => {
                                                  var base64data: any = reader.result;                
                                                  this.pwa.img = {data: base64data, url: this.router.sanitizer.bypassSecurityTrustUrl(base64data), blob : page.global.pwafile[0]};
                                                  this.local.updatedImg = true;
                                                  page.global.pwafile = undefined;
                                              }  
                                  		}
                                  		
                                  		resolve();
                                  '
          ↓Style [ngx.components.UIStyle-1603877105100]: 
        ↓GridCol1 [ngx.components.UIDynamicElement-1603804096879]: 
          beanData: '{"ionBean":"GridCol"}'
          tagName: ion-col
          ↓GenericItem [ngx.components.UIDynamicElement-1603801682352]: 
            beanData: '{"ionBean":"GenericItem"}'
            tagName: ion-item
            ↓Style [ngx.components.UIStyle-1603801858466]: 
              styleContent: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                  - com.twinsoft.convertigo.beans.common.FormatedContent: 
                    →: |
                      	display:inline-block !important;
                      
            ↓Label [ngx.components.UIDynamicElement-1603802392857]: 
              beanData: '{"ionBean":"Label","Position":"plain:stacked"}'
              tagName: ion-label
              ↓Text [ngx.components.UIText-1603802401069]: 
                i18n: true
                textValue: 
                  - xmlizable: 
                    - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                    - MobileSmartSourceType: plain:name
              ↓Style [ngx.components.UIStyle-1603802426222]: 
                styleContent: 
                  - xmlizable: 
                    - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                    - com.twinsoft.convertigo.beans.common.FormatedContent: 
                      →: |
                        'color: #ff8206 !important;
                          font-size: 14px !important;
                          text-transform: capitalize !important;
                          font-weight: 600;
                          font-style: normal;
                          font-stretch: normal;
                          line-height: normal;
                          letter-spacing: normal;
                        '
            ↓TextInput [ngx.components.UIDynamicElement-1603802354868]: 
              beanData: '{"ionBean":"Input","Debounce":"plain:0"}'
              tagName: ion-input
              ↓Attr [ngx.components.UIAttribute-1603806797892]: 
                attrName: '[(ngModel)]'
                attrValue: 
                  - xmlizable: 
                    - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                    - MobileSmartSourceType: script:this.pwa.name
          ↓GenericItem1 [ngx.components.UIDynamicElement-1603803008189]: 
            beanData: '{"ionBean":"GenericItem"}'
            tagName: ion-item
            ↓Style [ngx.components.UIStyle-1603803008192]: 
              styleContent: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                  - com.twinsoft.convertigo.beans.common.FormatedContent: 
                    →: |
                      	margin-top:2vh;
                      
            ↓Label [ngx.components.UIDynamicElement-1603803008195]: 
              beanData: '{"ionBean":"Label","Position":"plain:stacked"}'
              tagName: ion-label
              ↓Text [ngx.components.UIText-1603803008198]: 
                i18n: true
                textValue: 
                  - xmlizable: 
                    - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                    - MobileSmartSourceType: plain:short_name
              ↓Style [ngx.components.UIStyle-1603803008201]: 
                styleContent: 
                  - xmlizable: 
                    - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                    - com.twinsoft.convertigo.beans.common.FormatedContent: 
                      →: |
                        'color: #ff8206 !important;
                          font-size: 14px !important;
                          font-weight: 600;
                          font-style: normal;
                          font-stretch: normal;
                          line-height: normal;
                          letter-spacing: normal;
                        '
            ↓TextInput [ngx.components.UIDynamicElement-1603803008204]: 
              beanData: |
                '{
                 "ionBean": "Input",
                 "Debounce": "plain:0",
                 "Value": "script:this.form?.name"
                }'
              tagName: ion-input
              ↓Attr [ngx.components.UIAttribute-1603806794517]: 
                attrName: '[(ngModel)]'
                attrValue: 
                  - xmlizable: 
                    - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                    - MobileSmartSourceType: script:this.pwa.shortName
    ↓Grid [ngx.components.UIDynamicElement-1603803301541]: 
      beanData: '{"ionBean":"Grid"}'
      tagName: ion-grid
      ↓GridRow [ngx.components.UIDynamicElement-1603803312553]: 
        beanData: '{"ionBean":"GridRow"}'
        tagName: ion-row
        ↓GridCol [ngx.components.UIDynamicElement-1603803315844]: 
          beanData: '{"ionBean":"GridCol"}'
          tagName: ion-col
          ↓Div [ngx.components.UIDynamicElement-1603815900988]: 
            beanData: '{"ionBean":"DivTag"}'
            tagName: div
            ↓Text [ngx.components.UIText-1603815904354]: 
              i18n: true
              textValue: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                  - MobileSmartSourceType: plain:background_color
            ↓Style [ngx.components.UIStyle-1603815911448]: 
              styleContent: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                  - com.twinsoft.convertigo.beans.common.FormatedContent: 
                    →: |
                      'color: #ff8206 !important;
                        font-size: 14px !important;
                        font-weight: 600;
                        font-style: normal;
                        font-stretch: normal;
                        line-height: normal;
                        letter-spacing: normal;
                        text-align: center;
                      '
          ↓Div1 [ngx.components.UIDynamicElement-1603815913689]: 
            beanData: '{"ionBean":"DivTag"}'
            tagName: div
            ↓Style [ngx.components.UIStyle-1603815919769]: 
              styleContent: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                  - com.twinsoft.convertigo.beans.common.FormatedContent: 
                    →: |
                      '	margin-left:auto;
                      	margin-right:auto;
                      	margin-top:10px;
                      	border-radius: 50%;
                       	width: 50px;
                          height: 50px;
                          border: 5px solid var(--ion-color-greyButton);
                          text-align:center;
                      }
                      .class1603815913689:hover {
                      	cursor:pointer;
                      '
            ↓Event1 [ngx.components.UIControlEvent-1603816466018]: 
              ↓Popover [ngx.components.UIDynamicAction-1603816466021]: 
                beanData: |
                  '{
                   "ionBean": "PopoverAction",
                   "page": "plain:C8Oforms_NGX.MobileApplication.Application.colorPage",
                   "data": "script:{item:this.pwa, path: ''backgroundColor'', type: ''export''}"
                  }'
                ↓InvokeSharedAction [ngx.components.UIDynamicInvoke-1603816466024]: 
                  beanData: '{"ionBean":"InvokeAction"}'
                  isEnabled: false
                  stack: C8Oforms_NGX.MobileApplication.Application.updateState
            ↓Attr [ngx.components.UIAttribute-1603816495935]: 
              attrName: '[ngStyle]'
              attrValue: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                  - MobileSmartSourceType: 'script:{''background-color'': this.pwa.backgroundColor}'
          ↓Style [ngx.components.UIStyle-1603816562639]: 
            styleContent: 
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                - com.twinsoft.convertigo.beans.common.FormatedContent: 
                  →: |
                    '	margin-top: 31px;
                    '
        ↓GridCol1 [ngx.components.UIDynamicElement-1603803317434]: 
          beanData: '{"ionBean":"GridCol"}'
          tagName: ion-col
          ↓Div [ngx.components.UIDynamicElement-1603816675481]: 
            beanData: '{"ionBean":"DivTag"}'
            tagName: div
            ↓Text [ngx.components.UIText-1603816675484]: 
              i18n: true
              textValue: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                  - MobileSmartSourceType: plain:theme_color
            ↓Style [ngx.components.UIStyle-1603816675487]: 
              styleContent: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                  - com.twinsoft.convertigo.beans.common.FormatedContent: 
                    →: |
                      'color: #ff8206 !important;
                        font-size: 14px !important;
                        font-weight: 600;
                        font-style: normal;
                        font-stretch: normal;
                        line-height: normal;
                        letter-spacing: normal;
                        text-align: center;
                      '
          ↓Div1 [ngx.components.UIDynamicElement-1603816675490]: 
            beanData: '{"ionBean":"DivTag"}'
            tagName: div
            ↓Style [ngx.components.UIStyle-1603816675493]: 
              styleContent: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                  - com.twinsoft.convertigo.beans.common.FormatedContent: 
                    →: |
                      '	margin-left:auto;
                      	margin-right:auto;
                      	margin-top:10px;
                      	border-radius: 50%;
                       	width: 50px;
                          height: 50px;
                          border: 5px solid var(--ion-color-greyButton);
                          text-align:center;
                      }
                      .class1603816675490:hover {
                      	cursor:pointer;
                      '
            ↓Event1 [ngx.components.UIControlEvent-1603816675496]: 
              ↓Popover [ngx.components.UIDynamicAction-1603816675499]: 
                beanData: |
                  '{
                   "ionBean": "PopoverAction",
                   "page": "plain:C8Oforms_NGX.MobileApplication.Application.colorPage",
                   "data": "script:{item:this.pwa, path: ''themeColor'', type: ''export''}"
                  }'
            ↓Attr [ngx.components.UIAttribute-1603816675505]: 
              attrName: '[ngStyle]'
              attrValue: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                  - MobileSmartSourceType: 'script:{''background-color'': this.pwa.themeColor}'
          ↓Style [ngx.components.UIStyle-1603816813236]: 
            styleContent: 
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                - com.twinsoft.convertigo.beans.common.FormatedContent: 
                  →: |
                    '	margin-top: 31px;
                    '
      ↓GridRow11 [ngx.components.UIDynamicElement-1603879675950]: 
        beanData: '{"ionBean":"GridRow"}'
        tagName: ion-row
        ↓GridCol [ngx.components.UIDynamicElement-1603879675953]: 
          beanData: '{"ionBean":"GridCol"}'
          tagName: ion-col
          ↓Div [ngx.components.UIDynamicElement-1603879675956]: 
            beanData: '{"ionBean":"DivTag"}'
            isEnabled: false
            tagName: div
            ↓Text [ngx.components.UIText-1603879675959]: 
              i18n: true
              textValue: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                  - MobileSmartSourceType: plain:define_default_values_for_forms_element
            ↓Style [ngx.components.UIStyle-1603879675962]: 
              styleContent: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                  - com.twinsoft.convertigo.beans.common.FormatedContent: 
                    →: |
                      'color: #ff8206 !important;
                        font-size: 14px !important;
                        font-weight: 600;
                        font-style: normal;
                        font-stretch: normal;
                        line-height: normal;
                        letter-spacing: normal;
                      '
          ↓Style [ngx.components.UIStyle-1603879675965]: 
            styleContent: 
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                - com.twinsoft.convertigo.beans.common.FormatedContent: 
                  →: |
                    '	margin-top: 31px;
                    '
          ↓GenericItem [ngx.components.UIDynamicElement-1603879675968]: 
            beanData: '{"ionBean":"GenericItem"}'
            tagName: ion-item
            ↓Label [ngx.components.UIDynamicElement-1603879675971]: 
              beanData: '{"ionBean":"Label","Position":"plain:stacked"}'
              tagName: ion-label
              ↓Text [ngx.components.UIText-1603879675974]: 
                i18n: true
                textValue: 
                  - xmlizable: 
                    - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                    - MobileSmartSourceType: plain:require_auth_form
              ↓Style [ngx.components.UIStyle-1603879675977]: 
                styleContent: 
                  - xmlizable: 
                    - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                    - com.twinsoft.convertigo.beans.common.FormatedContent: 
                      →: |
                        'color: #ff8206 !important;
                          font-size: 14px !important;
                          font-weight: 600;
                          font-style: normal;
                          font-stretch: normal;
                          line-height: normal;
                          letter-spacing: normal;
                        '
            ↓CheckBox [ngx.components.UIDynamicElement-1603879697307]: 
              beanData: '{"ionBean":"CheckBox"}'
              tagName: ion-checkbox
              ↓Attr [ngx.components.UIAttribute-1603879924721]: 
                attrName: '[(ngModel)]'
                attrValue: 
                  - xmlizable: 
                    - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                    - MobileSmartSourceType: script:this.pwa.notAnonymous
            ↓Attr [ngx.components.UIAttribute-1603879733622]: 
              attrName: 
              attrValue: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                  - MobileSmartSourceType: plain:no-lines
      ↓GridRow1 [ngx.components.UIDynamicElement-1603877686087]: 
        beanData: '{"ionBean":"GridRow"}'
        tagName: ion-row
        ↓GridCol [ngx.components.UIDynamicElement-1603877691810]: 
          beanData: '{"ionBean":"GridCol"}'
          tagName: ion-col
          ↓Div [ngx.components.UIDynamicElement-1603877855071]: 
            beanData: '{"ionBean":"DivTag"}'
            isEnabled: false
            tagName: div
            ↓Text [ngx.components.UIText-1603877855074]: 
              i18n: true
              textValue: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                  - MobileSmartSourceType: plain:define_default_values_for_forms_element
            ↓Style [ngx.components.UIStyle-1603877855077]: 
              styleContent: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                  - com.twinsoft.convertigo.beans.common.FormatedContent: 
                    →: |
                      'color: #ff8206 !important;
                        font-size: 14px !important;
                        font-weight: 600;
                        font-style: normal;
                        font-stretch: normal;
                        line-height: normal;
                        letter-spacing: normal;
                      '
          ↓Style [ngx.components.UIStyle-1603877906047]: 
            styleContent: 
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                - com.twinsoft.convertigo.beans.common.FormatedContent: 
                  →: |
                    '	margin-top: 15px;
                    '
          ↓GenericItem1 [ngx.components.UIDynamicElement-1622732204106]: 
            beanData: '{"ionBean":"GenericItem"}'
            tagName: ion-item
            ↓FormatLayout [ngx.components.UIDynamicAttr-1645090140130]: 
              beanData: '{"ionBean":"FormatLayout","TextTransformation":"plain:ion-text-uppercase"}'
              comment: FormatLayout
              tagName: div
            ↓Icon [ngx.components.UIDynamicElement-1622732204112]: 
              beanData: '{"ionBean":"Icon","IconName":"script:this.global.showAdvanced ? ''arrow-dropdown'' : ''arrow-dropright''"}'
              comment: arrow-dropright
              tagName: ion-icon
              ↓Style [ngx.components.UIStyle-1622732204115]: 
                styleContent: 
                  - xmlizable: 
                    - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                    - com.twinsoft.convertigo.beans.common.FormatedContent: 
                      →: |
                        '
                        }
                        
                        .class1568031786633:hover {
                        cursor: pointer;
                        '
            ↓Text [ngx.components.UIText-1622732204118]: 
              i18n: true
              textValue: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                  - MobileSmartSourceType: plain:advanced
            ↓Style [ngx.components.UIStyle-1622732204121]: 
              styleContent: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                  - com.twinsoft.convertigo.beans.common.FormatedContent: 
                    →: |
                      'color: #ff8206;
                        font-size: 14px;
                        font-weight: 600;
                        font-style: normal;
                        font-stretch: normal;
                        line-height: normal;
                        letter-spacing: normal;
                      }
                      
                      .class1622732204109:hover {
                      	cursor:pointer;
                      '
            ↓Style1 [ngx.components.UIStyle-1622732204124]: 
              styleContent: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                  - com.twinsoft.convertigo.beans.common.FormatedContent: 
                    →: |
                      '	.label{
                      		margin-top: 0px !important;	
                      		margin-bottom: 0px !important;	
                      	}
                      	.item-inner {
                      		border-bottom: 0px solid #ffffff !important;
                      	}
                      '
            ↓Event [ngx.components.UIControlEvent-1622732204127]: 
              ↓SetGlobal [ngx.components.UIDynamicAction-1622732204130]: 
                beanData: |
                  '{
                   "ionBean": "SetGlobalAction",
                   "Property": "plain:showAdvanced",
                   "Value": "script:this.global.showAdvanced == undefined ? true : !this.global.showAdvanced"
                  }'
          ↓GenericItem [ngx.components.UIDynamicElement-1603878206174]: 
            beanData: '{"ionBean":"GenericItem"}'
            tagName: ion-item
            ↓Label [ngx.components.UIDynamicElement-1603878214701]: 
              beanData: '{"ionBean":"Label","Position":"plain:stacked"}'
              tagName: ion-label
              ↓Text [ngx.components.UIText-1603878220194]: 
                i18n: true
                textValue: 
                  - xmlizable: 
                    - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                    - MobileSmartSourceType: plain:define_default_values_for_forms_element
              ↓Style [ngx.components.UIStyle-1603878224236]: 
                styleContent: 
                  - xmlizable: 
                    - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                    - com.twinsoft.convertigo.beans.common.FormatedContent: 
                      →: |
                        'color: #ff8206 !important;
                          font-size: 14px !important;
                          font-weight: 600;
                          font-style: normal;
                          font-stretch: normal;
                          line-height: normal;
                          letter-spacing: normal;
                        '
            ↓TextInput [ngx.components.UIDynamicElement-1603878239061]: 
              beanData: '{"ionBean":"Input","Debounce":"plain:0"}'
              tagName: ion-input
              ↓Attr [ngx.components.UIAttribute-1603879967704]: 
                attrName: '[(ngModel)]'
                attrValue: 
                  - xmlizable: 
                    - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                    - MobileSmartSourceType: script:this.pwa.querystr
            ↓Attr [ngx.components.UIAttribute-1622732269140]: 
              attrName: '*ngIf'
              attrValue: 
                - xmlizable: 
                  - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                  - MobileSmartSourceType: plain:this.global.showAdvanced == true
  ↓Style [ngx.components.UIStyle-1603877977568]: 
    styleContent: 
      - xmlizable: 
        - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
        - com.twinsoft.convertigo.beans.common.FormatedContent: 
          →: |
            '	.scroll-content{
            		padding-left: 3vw !important;
            		padding-right: 3vw !important;
            	}
            '
↓PageEvent [ngx.components.UIPageEvent-1603806039997]: 
  viewEvent: onWillEnter
  ↓Finally_Handler [ngx.components.UIActionFinallyEvent-1603900407522]: 
    ↓CustomAction [ngx.components.UICustomAction-1603900416360]: 
      actionValue: 
        - xmlizable: 
          - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
          - com.twinsoft.convertigo.beans.common.FormatedContent: 
            →: |
              		this.local.initDone = true;
              		resolve();
              
  ↓If [ngx.components.UIDynamicAction-1603900448853]: 
    beanData: '{"ionBean":"IfAction","condition":"script:!this.local.initDone && !this.isFirstPWA"}'
    ↓GetData [ngx.components.UIDynamicAction-1603806047577]: 
      beanData: |
        '{
         "ionBean": "FullSyncGetAction",
         "requestable": "plain:C8Oforms_NGX.c8oforms_fs",
         "_id": "script:this.navParams.data.form._id+''_pwa_document''"
        }'
      ↓Failure_Handler [ngx.components.UIActionFailureEvent-1603806180470]: 
        ↓LoadDefaultValues [ngx.components.UICustomAction-1603806712006]: 
          actionValue: 
            - xmlizable: 
              - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
              - com.twinsoft.convertigo.beans.common.FormatedContent: 
                →: |
                  '		new Promise(async(resolveGet)=>{
                  		    if(this.pwa == undefined){
                  		        this.local.new = true;
                  		        this.pwa = {name : this.form.name, shortName: this.form.shortName, backgroundColor: "#ffffff", themeColor: "#0cbbe7", "notAnonymous": true, "querystr": "", originalFormId: this.form._id, "c8o_view_type_pwa_document": true};
                  		        try{
                  		            var tryWallPaper = false;
                  		            let response = await this.c8o.callJson("fs://c8oforms_fs.get_attachment", "docid", this.form._id, "name", "thumbnail").async();
                  		            if(!(response["size"] > 0)){
                  		                tryWallPaper = true;
                                      }
                                      else{
                                          var reader = new FileReader();
                                          reader.readAsDataURL(response); 
                                          reader.onloadend = () => {
                                              var base64data: any = reader.result;                
                                              this.pwa.img = {data: base64data, url: this.router.sanitizer.bypassSecurityTrustUrl(base64data)};
                                              resolveGet();
                                          }
                                          
                                      }
                  		        }
                  		        catch(e){
                  		            tryWallPaper = true;
                  		        }
                  		        
                  		        if(tryWallPaper){
                  		            try{
                      		            let response2 = await this.c8o.callJson("fs://c8oforms_fs.get_attachment", "docid", this.form._id, "name", "wallpaper").async();
                      		            if(!(response2["size"] > 0)){
                      		                this.pwa.img = {url: ''assets/images/category.png''};
                                              this.local.updatedImg = true;
                                          }
                                          else{
                                              var reader = new FileReader();
                                              reader.readAsDataURL(response2); 
                                              reader.onloadend = () => {
                                                  var base64data: any = reader.result;                
                                                  this.pwa.img = {data: base64data, url: this.router.sanitizer.bypassSecurityTrustUrl(base64data)};
                                                  resolveGet();
                                              }
                                              return null;
                                          }
                  		            }
                      		        catch(e){
                      		            this.pwa.img = {url: ''assets/images/category.png''};
                      		            this.local.updatedImg = true;
                      		            resolveGet();
                                      }
                  		        
                  		    }
                  		    
                  		    }
                  		}).then(()=>{
                  		    resolve();
                  		});
                  '
      ↓SetPwaValues [ngx.components.UICustomAction-1603806229991]: 
        actionValue: 
          - xmlizable: 
            - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
            - com.twinsoft.convertigo.beans.common.FormatedContent: 
              →: |
                		    if(props.parent.out != undefined){
                		        this.pwa = props.parent.out;
                		        this.resetImageCache(this.pwa._id+"/icon")
                		    }
                		    resolve();
                
    ↓ImportNamerLib [ngx.components.UICustomAction-1603812580074]: 
      actionValue: 
        - xmlizable: 
          - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
          - com.twinsoft.convertigo.beans.common.FormatedContent: 
            →: |
              		    page.local.namer = namer;
              		    resolve();
              
      package_dependencies: 
        - xmlizable: 
          - ↑classname: com.twinsoft.convertigo.beans.common.XMLVector
          - com.twinsoft.convertigo.beans.common.XMLVector: 
            - xmlizable: 
              - ↑classname: com.twinsoft.convertigo.beans.common.XMLVector
              - com.twinsoft.convertigo.beans.common.XMLVector: 
                - java.lang.String: 
                  - ↑value: color-namer
                - java.lang.String: 
                  - ↑value: 1.4.0
      page_ts_imports: 
        - xmlizable: 
          - ↑classname: com.twinsoft.convertigo.beans.common.XMLVector
          - com.twinsoft.convertigo.beans.common.XMLVector: 
            - xmlizable: 
              - ↑classname: com.twinsoft.convertigo.beans.common.XMLVector
              - com.twinsoft.convertigo.beans.common.XMLVector: 
                - java.lang.String: 
                  - ↑value: '* as namer'
                - java.lang.String: 
                  - ↑value: color-namer
  ↓If1 [ngx.components.UIDynamicAction-1612951789162]: 
    beanData: '{"ionBean":"IfAction","condition":"script:!this.local.initDone && this.isFirstPWA"}'
    isEnabled: false
    ↓CustomAction [ngx.components.UICustomAction-1612951841909]: 
↓Footer [ngx.components.UIDynamicElement-1603878579067]: 
  beanData: '{"ionBean":"Footer"}'
  tagName: ion-footer
  ↓ButtonSet [ngx.components.UIDynamicElement-1603878579070]: 
    beanData: '{"ionBean":"ButtonSet","SetPosition":"plain:end"}'
    tagName: ion-buttons
    ↓Button [ngx.components.UIDynamicElement-1603878579091]: 
      beanData: '{"ionBean":"Button"}'
      tagName: ion-button
      ↓Text [ngx.components.UIText-1603878579094]: 
        textValue: 
          - xmlizable: 
            - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
            - MobileSmartSourceType: 'script:this.translate.instant(this.navParams.data.header === true ? ''publish_and_generate'': ''generate_pwa'')'
      ↓Attr [ngx.components.UIAttribute-1603878579097]: 
        attrName: 
        attrValue: 
          - xmlizable: 
            - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
            - MobileSmartSourceType: plain:item-right
      ↓Event [ngx.components.UIControlEvent-1603878579100]: 
        ↓Error_Handler [ngx.components.UIActionErrorEvent-1613729271767]: 
          ↓CustomAction [ngx.components.UICustomAction-1613729301298]: 
            actionValue: 
              - xmlizable: 
                - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                - com.twinsoft.convertigo.beans.common.FormatedContent: 
                  →: |
                    		resolve({"canExec":false})
                    
        ↓CheckRequiredFields [ngx.components.UICustomAction-1613729989277]: 
          actionValue: 
            - xmlizable: 
              - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
              - com.twinsoft.convertigo.beans.common.FormatedContent: 
                →: |
                  '		let message = null;
                  		if(page["pwa"].name == ""){
                  	        message = page["translate"].instant("must_complete") + " "+ page["translate"].instant("name");
                  	    }
                  	    else if(page["pwa"].shortName == ""){
                  	        message = page["translate"].instant("must_complete") + " "+ page["translate"].instant("short_name");
                  	    }
                  	    else if(this.local.new && (page["pwa"].img == undefined || (page["pwa"].img.data == undefined && page["pwa"].img.blob == undefined))){
                  	        message = page["translate"].instant("must_complete_image_pwa")
                  	    }
                  		if(message != null){
                  			// calling showToastThatResolvesImmediately
                  			page["actionBeans"].CTS1613727468919(page, null, {"msg":message, "duration": 3000, "position": "bottom", "cssClass": "toastError"});
                  			reject();
                  		}
                  		else{
                  			resolve();
                  		}
                  '
          ↓CloseModal [ngx.components.UIDynamicAction-1617014605287]: 
            beanData: '{"ionBean":"CloseModalAction"}'
            ↓IfElse [ngx.components.UIDynamicIf-1612952626255]: 
              beanData: '{"ionBean":"IfElseAction","condition":"script:this.navParams.data.publishInfos != null"}'
              isEnabled: false
              ↓PostData [ngx.components.UIDynamicAction-1612952747210]: 
                beanData: |
                  '{
                   "ionBean": "FullSyncPostAction",
                   "requestable": "plain:C8Oforms_NGX.c8oforms_fs",
                   "_id": "script:this.navParams.data.publishInfos.idDoc"
                  }'
                ↓formId [ngx.components.UIControlVariable-1612952747213]: 
                  varValue: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                      - MobileSmartSourceType: script:this.navParams.data.publishInfos.id
                ↓formRev [ngx.components.UIControlVariable-1612952747216]: 
                  varValue: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                      - MobileSmartSourceType: script:this.navParams.data.publishInfos.rev
                ↓_id [ngx.components.UIControlVariable-1612952747219]: 
                  isEnabled: false
                  varValue: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                      - MobileSmartSourceType: script:parent.out.idDoc
                ↓version [ngx.components.UIControlVariable-1612952747222]: 
                  varValue: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.ngx.components.MobileSmartSourceType
                      - MobileSmartSourceType: script:this.navParams.data.publishInfos.version
                ↓GeneratePwa [ngx.components.UICustomAction-1612952810711]: 
                  actionValue: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                      - com.twinsoft.convertigo.beans.common.FormatedContent: 
                        →: |
                          '		    console.log("celle du haut");
                          		    // be sure that form is available in anonymous if option has been enabled
                                      new Promise (async(resolveAnonymous)=>{
                                          try{
                                              //check if pwa has to be published as anonymous
                          					var doc;
                                              if(!this.pwa.notAnonymous){
                          						try{
                          							doc = await page.c8o.callJson("fs://c8oforms_fs.get", "docid", this.pwa.originalFormId).async();
                          						}
                          						catch(e){
                          							doc = {"_id":this.pwa.originalFormId, "_rev":""}
                          						}
                                                  
                                                  // check if pwa is not already anonymous
                                                  if (doc.sharedAnonymous != "true" || doc.sharedAnonymous != true){
                                                      let idCOntrolDocument = "control_document_create_user_" + this.makeid(10) + "" + Date.now();
                                                      let userName = sha256(doc["_id"]);
                                                      try{
                                                          await page.c8o.callJson("fs://c8oforms_fs.post", "_id",idCOntrolDocument, "formId", doc["_id"], "formRev", doc["_rev"],"userName", userName).async();
                                                          page.c8o.log.debug("[PWA CREATION] subsmisson for pwa anonymous");
                                                          resolveAnonymous();
                                                      }
                                                      catch(e){
                                                          resolveAnonymous();
                                                      }
                                      }
                                              }
                                              else{
                                                  resolveAnonymous();
                                              }
                                          }
                                          catch(e){
                                              resolveAnonymous();
                                              page.c8o.log.error("[PWA CREATION] an error occured (anonymous for pwa)", e)
                                          }	                
                                      })
                                      .then(async ()=>{
                                          // get pwa id
                                          this.pwa.targetId = this.pwa.notAnonymous ? this.pwa.originalFormId:sha256(this.pwa.originalFormId);
                                          delete this.pwa.done;
                                          // first creation
                                          if(this.pwa._id == undefined){
                                              let img = this.pwa.img.data;
                                              let blob = this.pwa.img.blob;
                                              delete this.pwa.img;
                          					let c8oGrp= {};
                          					let formG = null;
                          					try{
                          						formG =  await this.c8o.callJson("fs://c8oforms_fs.get", "docid", this.navParams.data.form._id).async();
                          					}
                          					catch(e){
                          						
                          					}
                          					if(formG == null){
                          						try{
                          							formG =  await this.c8o.callJson("fs://c8oforms_fs.get", "docid", this.navParams.data.form._id.substring(10)).async();
                          						}
                          						catch(e){
                          							
                          						}
                          					}
                          					
                          					console.log(formG);
                          					if(formG.collabs != undefined){
                          						formG.collabs.forEach((e)=>{
                          							c8oGrp[e] = true;
                          						})
                          					}
                          					this.pwa.c8oGrp = c8oGrp;
                                              this.pwa.updateFinished = false;
                                              this.pwa._id = this.navParams.data.form._id+''_pwa_document'';
                                              this.c8o.callJsonObject("fs://c8oforms_fs.post", this.pwa)
                                              .then((res)=>{
                                                  page.c8o.log.debug("[PWA CREATION] properties inserted");
                                                  if(blob != undefined){
                                                      return this.c8o.callJson("fs://c8oforms_fs.put_attachment", "docid", this.pwa._id, "name","icon", "content_type", blob.type, "content", blob )
                                                  }
                                                  else{
                                                      const nB64 = this.detectContentType(img);
                                                      let contentType = nB64[0];
                                                      let b64 = nB64[1];
                                                      return this.c8o.callJson("fs://c8oforms_fs.put_attachment", "docid", this.pwa._id, "name","icon", "content_type", contentType, "content", this.b64toBlob(b64, contentType))
                                                  }
                                                  
                                              })
                                              .then((res)=>{
                                                  page.c8o.log.debug("[PWA CREATION] assets inserted");
                                                  return this.c8o.callJson("fs://c8oforms_fs.post", "_use_policy", "merge", "updateFinished", true, "_id", this.pwa._id)
                                                  
                                              })
                                              .then((res)=>{
                                                  page.c8o.log.debug("[PWA CREATION] property updateFinished inserted");
                                                  resolve();
                                                  return null;
                                                  
                                              })
                                              .fail((e)=>{
                                                  page.c8o.log.debug("[PWA CREATION] an error occured", e);
                                                  resolve();
                                              })
                                          }
                                          //update
                                          else{
                                              delete this.pwa._rev;
                                              this.pwa["_use_policy"] = "override";
                                              let blob = this.pwa.img != undefined ? this.pwa.img.blob: undefined;
                                              delete this.pwa.img;
                                              this.pwa.updateFinished = !(this.local.updatedImg == true);
                                              this.c8o.callJsonObject("fs://c8oforms_fs.post", this.pwa)
                                              .then((res)=>{
                                                  page.c8o.log.debug("[PWA CREATION] properties inserted");
                                                  if(this.local.updatedImg == true){
                                                     
                                                      return this.c8o.callJson("fs://c8oforms_fs.put_attachment", "docid", this.pwa._id, "name","icon", "content_type", blob.type, "content", blob )
                                                  }
                                                  else{
                                                      return null;
                                                  }
                                                 
                                              })
                                              .then((res)=>{
                                                  page.c8o.log.debug("[PWA CREATION] assets inserted");
                                                  return this.c8o.callJson("fs://c8oforms_fs.post", "_id", this.pwa._id ,"_use_policy", "merge", "updateFinished", true)
                                                  
                                              })
                                              .then((res)=>{
                                                  page.c8o.log.debug("[PWA CREATION] property updateFinished inserted");
                                                  resolve();
                                                  return null;
                                                  
                                              })
                                              .fail((e)=>{
                                                  page.c8o.log.debug("[PWA CREATION] an error occured", e);
                                                  resolve();
                                              })
                                          }
                                          
                                      }) 
                          		    
                          '
                  ↓InvokeSharedAction [ngx.components.UIDynamicInvoke-1612952810714]: 
                    beanData: '{"ionBean":"InvokeAction"}'
                    isEnabled: false
                    stack: C8Oforms_NGX.MobileApplication.Application.CheckListenerHasBeenExecuted
                  ↓CloseModal [ngx.components.UIDynamicAction-1612952810717]: 
                    beanData: '{"ionBean":"CloseModalAction"}'
                    isEnabled: false
                  ↓PublishEvent [ngx.components.UIDynamicAction-1612952810720]: 
                    beanData: |
                      '{
                       "ionBean": "PublishEventAction",
                       "topic": "plain:toastPWA",
                       "data": "script"
                      }'
              ↓Else_Handler [ngx.components.UIActionElseEvent-1612952644767]: 
                ↓GeneratePwa1 [ngx.components.UICustomAction-1603878579103]: 
                  actionValue: 
                    - xmlizable: 
                      - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
                      - com.twinsoft.convertigo.beans.common.FormatedContent: 
                        →: |
                          '		    console.log("celle du bas");
                          		     // be sure that form is available in anonymous if option has been enabled
                          	            new Promise (async(resolveAnonymous)=>{
                          	                try{
                          	                    //check if pwa has to be published as anonymous
                          	                    if(!this.pwa.notAnonymous){
                          	                        var doc;
                          							try{
                          								doc = await page.c8o.callJson("fs://c8oforms_fs.get", "docid", this.pwa.originalFormId).async();
                          							}
                          							catch(e){
                          								doc = {"_id":this.pwa.originalFormId, "_rev":""}
                          							}
                          	                        // check if pwa is not already anonymous
                          	                        if (doc.sharedAnonymous != "true" || doc.sharedAnonymous != true){
                          	                            let idCOntrolDocument = "control_document_create_user_" + this.makeid(10) + "" + Date.now();
                          	                            let userName = sha256(doc["_id"]);
                          	                            try{
                          	                                await page.c8o.callJson("fs://c8oforms_fs.post", "_id",idCOntrolDocument, "formId", doc["_id"], "formRev", doc["_rev"],"userName", userName).async();
                          	                                page.c8o.log.debug("[PWA CREATION] subsmisson for pwa anonymous");
                          	                                resolveAnonymous();
                          	                            }
                          	                            catch(e){
                          	                                resolveAnonymous();
                          	                            }
                          	            }
                          	                    }
                          	                    else{
                          	                        resolveAnonymous();
                          	                    }
                          	                }
                          	                catch(e){
                          	                    resolveAnonymous();
                          	                    page.c8o.log.error("[PWA CREATION] an error occured (anonymous for pwa)", e)
                          	                }	                
                          	            })
                          	            .then(()=>{
                          	                // get pwa id
                          	                this.pwa.targetId = this.pwa.notAnonymous ? this.pwa.originalFormId:sha256(this.pwa.originalFormId);
                          	                delete this.pwa.done;
                          	                // first creation
                          	                if(this.pwa._id == undefined){
                          	                    let img = this.pwa.img.data;
                          	                    let blob = this.pwa.img.blob;
                          	                    delete this.pwa.img;
                          	                    this.pwa.updateFinished = false;
                          						let c8oGrp= {};
                          						if(this.navParams.data.form.collabs != undefined){
                          							this.navParams.data.form.collabs.forEach((e)=>{
                          								c8oGrp[e] = true;
                          							})
                          						}
                          						this.pwa.c8oGrp = c8oGrp;
                          	                    this.pwa._id = this.navParams.data.form._id+''_pwa_document'';
                          	                    this.c8o.callJsonObject("fs://c8oforms_fs.post", this.pwa)
                          	                    .then((res)=>{
                          	                        page.c8o.log.debug("[PWA CREATION] properties inserted");
                          	                        if(blob != undefined){
                          	                            return this.c8o.callJson("fs://c8oforms_fs.put_attachment", "docid", this.pwa._id, "name","icon", "content_type", blob.type, "content", blob )
                          	                        }
                          	                        else{
                          	                            const nB64 = this.detectContentType(img);
                          	                            let contentType = nB64[0];
                          	                            let b64 = nB64[1];
                          	                            return this.c8o.callJson("fs://c8oforms_fs.put_attachment", "docid", this.pwa._id, "name","icon", "content_type", contentType, "content", this.b64toBlob(b64, contentType))
                          	                        }
                          	                        
                          	                    })
                          	                    .then((res)=>{
                          	                        page.c8o.log.debug("[PWA CREATION] assets inserted");
                          	                        return this.c8o.callJson("fs://c8oforms_fs.post", "_use_policy", "merge", "updateFinished", true, "_id", this.pwa._id)
                          	                        
                          	                    })
                          	                    .then((res)=>{
                          	                        page.c8o.log.debug("[PWA CREATION] property updateFinished inserted");
                          	                        resolve();
                          	                        return null;
                          	                        
                          	                    })
                          	                    .fail((e)=>{
                          	                        page.c8o.log.debug("[PWA CREATION] an error occured", e);
                          	                        resolve();
                          	                    })
                          	                }
                          	                //update
                          	                else{
                          	                    delete this.pwa._rev;
                          	                    this.pwa["_use_policy"] = "override";
                          	                    let blob = this.pwa.img != undefined ? this.pwa.img.blob: undefined;
                          	                    delete this.pwa.img;
                          	                    this.pwa.updateFinished = !(this.local.updatedImg == true);
                          	                    this.c8o.callJsonObject("fs://c8oforms_fs.post", this.pwa)
                          	                    .then((res)=>{
                          	                        page.c8o.log.debug("[PWA CREATION] properties inserted");
                          	                        if(this.local.updatedImg == true){
                          	                           
                          	                            return this.c8o.callJson("fs://c8oforms_fs.put_attachment", "docid", this.pwa._id, "name","icon", "content_type", blob.type, "content", blob )
                          	                        }
                          	                        else{
                          	                            return null;
                          	                        }
                          	                       
                          	                    })
                          	                    .then((res)=>{
                          	                        page.c8o.log.debug("[PWA CREATION] assets inserted");
                          	                        return this.c8o.callJson("fs://c8oforms_fs.post", "_id", this.pwa._id ,"_use_policy", "merge", "updateFinished", true)
                          	                        
                          	                    })
                          	                    .then((res)=>{
                          	                        page.c8o.log.debug("[PWA CREATION] property updateFinished inserted");
                          	                        resolve();
                          	                        return null;
                          	                        
                          	                    })
                          	                    .fail((e)=>{
                          	                        page.c8o.log.debug("[PWA CREATION] an error occured", e);
                          	                        resolve();
                          	                    })
                          	                }
                          	                
                          	            }) 
                          		    
                          '
                  ↓PublishEvent [ngx.components.UIDynamicAction-1604007492068]: 
                    beanData: |
                      '{
                       "ionBean": "PublishEventAction",
                       "topic": "plain:toastPWA",
                       "data": "script"
                      }'
            ↓InvokeSharedAction [ngx.components.UIDynamicInvoke-1617892839373]: 
              beanData: '{"ionBean":"InvokeAction"}'
              stack: C8Oforms_NGX.MobileApplication.Application.functionPublishAndCreatePwa
    ↓Style [ngx.components.UIStyle-1603878579109]: 
      styleContent: 
        - xmlizable: 
          - ↑classname: com.twinsoft.convertigo.beans.common.FormatedContent
          - com.twinsoft.convertigo.beans.common.FormatedContent: 
            →: |
              'padding-bottom: 1vh;
              padding-right: 1vh;
              '